var fontArray="abeatbykai android aileronlight aileronthin aileronbold aileronthick aileronultra aileronheavy ailerons alpine apriolight aprioreg anders autograf aventura azedobold azedolight bariollight bariolthin bariolbold bikoblack bikoregular bikobold bebasbold bebaslight bebasneue bebasneueregular breaksemi braxton building canter canarolight clemente codebold codelight condlight damier din dinerfat disclaimerclassic disclaimerreg dense gasaltreg geoman gasaltthin gasaltbold globerreg globerthin gothicregular gothicbold hab high higher huxlee fabfelt futura future fringe geoma gido ikaros infinity jaapokki kanji kaneda krinkles krinklesdecor lg lobster loveloblack loveloline lovelolinel manbow nexabold nexabolder nexalight olympic manifesto manteka makhina mikadolight mikadoregular mikadobold mikadomedium mikadoultra mikadoblack modernesans moonlight moonbold mostwasted penelope perfo plstk poplar provisionary qontra ratinfested reckoner reboard realtimethin realtimelight realtimeregular realtimesemi realtimebold rexbold robotobold robotolight robotoregular salamat samster samsunglight samsungregular sanfranlight sanfranthin sanfranreg sanfranbold sanfranheavy sciflysans streamster shimes shimestwo signer scriptina superair talldark timber tiza track tresdias".split(" "),
elementPanel={clockElements:{strings:{title:"Strings For Clocks",hrmin:cF.hourtext()+"."+cF.minute(),hrnsmin:cF.hourtext()+" "+cF.minute(),hrsmush:cF.hourtext()+""+cF.minute(),hrmintx:""!==cF.minutetwotext()?cF.hourtext()+"."+cF.minuteonetextdot()+"."+cF.minutetwotext():cF.hourtext()+"."+cF.minuteonetextdot()+cF.minutetwotext(),ttext:cF.hourtext()+" "+cF.minuteonetext()+" "+cF.minutetwotext(),clock:cF.hour()+":"+cF.minute(),clocksmush:cF.hour()+""+cF.minute(),clockline:cF.hour()+"|"+cF.minute(),zclock:cF.zhour()+
":"+cF.minute(),clockpm:cF.hour()+":"+cF.minute()+cF.am(),nhrtmin:cF.hourtext()+":"+cF.minute(),nhrtarrowmin:cF.hourtext()+">>"+cF.minute(),nttext:"["+cF.hourtext()+"]"+cF.minuteonetext()+""+cF.minutetwotext()},strings2:{title:"Strings For Dates",datestring:cF.daytext()+", "+cF.monthtext()+" "+cF.date(),datedash:cF.daytext()+"-"+cF.monthtext()+"-"+cF.date(),datespace:cF.daytext()+" "+cF.monthtext()+" "+cF.date(),datedotmonth:cF.date()+"."+cF.monthtext(),monthdot:cF.monthtext()+"."+cF.date(),dateslashmonth:cF.date()+
"/"+cF.monthtext(),mdy:cF.month()+"/"+cF.date()+"/"+cF.year(),datemonth:cF.date()+" "+cF.monthtext(),datemonthrev:cF.monthtext()+" "+cF.date(),monthlinespace:cF.monthtext()+" | "+cF.date()+" | "+cF.year(),monthline:cF.monthtext()+"|"+cF.date()+"|"+cF.year(),daydate:cF.daytext()+" "+cF.date(),daydotdate:cF.daytext()+"."+cF.date(),datestringrev:cF.monthtext()+" "+cF.date()+", "+cF.daytext(),daydatemonth:cF.daytext()+" | "+cF.date()+" "+cF.monthtext(),daydatesmonth:cF.daytext()+" "+cF.date()+" "+cF.smonthtext(),
daydatescommamonth:cF.daytext()+", "+cF.date()+" "+cF.smonthtext(),dayabdatemonth:cF.sdaytext()+" "+cF.date()+" "+cF.smonthtext(),daycommadatemonth:cF.sdaytext()+", "+cF.date()+" "+cF.smonthtext(),datebar:cF.month()+"|"+cF.date()+"|"+cF.smyear(),datesnslash:cF.month()+"/"+cF.date()+"/"+cF.smyear(),datesingled:cF.month()+"-"+cF.date()+"-"+cF.smyear(),nsmd:cF.smonthtext()+" "+cF.date(),ndsm:cF.date()+" "+cF.smonthtext(),ndsmd:cF.date()+" "+cF.sdaytext(),nsmdd:cF.sdaytext()+" "+cF.date(),ndatedash:cF.daytext()+
" - "+cF.monthtext()+" - "+cF.date(),nsmmyear:cF.smonthtext()+" "+cF.year(),nmdplusyear:cF.monthtext()+" "+cF.dateplus()+" "+cF.year()},hours:{title:"Hour",zhour:cF.zhour(),hour:cF.hour(),htext:cF.hourtext()},minutes:{title:"Minute",minute:cF.minute(),mtext:cF.minuteonetext()+" "+cF.minutetwotext()},seconds:{title:"Seconds",second:cF.second()},pm:{title:"PM",pm:cF.am()},tod:{title:"TOD",tod:cF.tod()},dates:{title:"Date",date:cF.date(),dateplus:cF.dateplus(),datetext:cF.datetext()},prevdates:{title:"Previous Date",
prevdate:cF.prevdate()},nextdates:{title:"Next Date",nextdate:cF.nextdate()},days:{title:"Day",day:cF.daytext(),sday:cF.sdaytext()},prevdays:{title:"Previous Day",yestday:cF.yesterdaydaytext(),sprevday:cF.sprevday()},nextdays:{title:"Next Day",nextday:cF.nextdaytext(),snextday:cF.snextday()},months:{title:"Month",month:cF.monthtext(),smonth:cF.smonthtext()},prevmonths:{title:"Previous Month",prevmonth:cF.prevmonthtext(),sprevmonth:cF.sprevmonth()},nextmonths:{title:"Next Month",nextmonth:cF.nextmonthtext(),
snextmonth:cF.snextmonth()},years:{title:"Year",year:cF.year(),yeartext:convertTOWord(cF.year())}},weatherElements:{wstring:{title:"String",tempcon:"76 Cloudy",tempcon1:"76\u00b0f Cloudy",tempcon2:"76\u00b0 Cloudy",windstr:"25mph N"},temps:{title:"Temp",temp:"76",tempdeg:"76\u00b0",tempdegplus:"76\u00b0f"},icon:{title:"Icon",icon:"Weather"},highs:{title:"High",high:"80",highdeg:"80\u00b0",highdegplus:"80\u00b0f"},lows:{title:"Low",low:"70",lowdeg:"70\u00b0",lowdegplus:"70\u00b0f"},lowhigh:{title:"High and Low",
highdashlow:"80-70",highdashlowdeg:"80\u00b0-70\u00b0",highslashlow:"80/70",highslashlowdeg:"80\u00b0/70\u00b0"},city:{title:"City",city:"Current City"},condition:{title:"Condition",condition:"Cloudy"},humidity:{title:"Humidity",humidity:"60"},windchill:{title:"Wind Chill",windchill:"20\u00b0"},wind:{title:"Wind",wind:"25mph",winddirection:"N"},visibility:{title:"Visibility",visibility:"20miles"},rain:{title:"Rain",rain:"20%"},dewpoint:{title:"Dewpoint",dewpoint:"40\u00b0"},feelslike:{title:"FeelsLike",
feelslike:"90",feelslikedeg:"90\u00b0"},suntime:{title:"Sun",sunrise:"5:00 (sunset)",sunset:"7:00 (sunrise)"},update:{title:"Last Updated",update:"Last Updated"}},systemElements:{phone:{title:"Phone name",name:"My iPhone"},firmware:{title:"Firmware",firmware:"Version 8.3"},battery:{title:"Battery",battery:"100",batterypercent:"100%",chargingtxt:"Not Charging",chargingstate:"Charging"},unlock:{title:"Unlock",unlock:"Unlock"},signal:{title:"Signal",signal:"3",signalpercent:"40%"},alarm:{title:"Alarm",
alarm24:"15:20",alarm:"8:00",alarmpm:"8:00am"},wifi:{title:"Wifi",wifi:"20",wifipercent:"20%"},notifications:{title:"Notifications",notifymail:"Mail",notifysms:"SMS",notifyphone:"Phone",notifywhats:"WhatsApp",notifytelegram:"Telegram"}},miscElements:{box:{title:"Squares",boxOne:"Custom Box 1",boxTwo:"Custom Box 2",boxThree:"Custom Box 3",boxFour:"Custom Box 4",boxFive:"Custom Box 5"},circle:{title:"Circles",boxCircleOne:"Custom Circle 1",boxCircleTwo:"Custom Circle 2",boxCircleThree:"Custom Circle 3",
boxCircleFour:"Custom Circle 4",boxCircleFive:"Custom Circle 5"},apps:{title:"Apps 1",app1:"Mail",app2:"SMS",app3:"Phone",app4:"Twitter",app5:"Tweetbot",app6:"Telegram"},apps2:{title:"Apps 2",app7:"Instagram",app8:"Pandora",app9:"Spotify",app10:"Facebook",app11:"Kik",app12:"YouTube"},apps3:{title:"Apps 3",app13:"WhatsApp",app14:"Safari",app15:"Weather",app16:"Clock",app17:"Music",app18:"Camera"},apps4:{title:"Apps 4",app19:"Reminders",app20:"Notes",app21:"Maps",app22:"Calendar",app23:"Calculator",
app24:"Cydia"},apps5:{title:"Apps 5",app25:"YouTube",app26:"Settings",app27:"AppStore",app28:"Health"}}};var getIconName=function(){return action.savedElements.iconName},getWallpaper=function(){return action.wallpaper?action.wallpaper:""},getOverlay=function(){return action.savedElements.overlay?action.savedElements.overlay:""},getElements=function(){return JSON.stringify(action.savedElements.placedElements)||""};var constants={notSoConstantArray:[],toolArray:"background~Background~fa fa-photo~backgroundDiv;overlay~Overlay~fa fa-clipboard~overlayDiv;element~Show Elements Panel~fa fa-flask~elementDiv;widget~Load Widget~fa fa-flag~loadWidget;save~Save Theme~fa fa-upload~saveDiv;load~Load Theme~fa fa-download~loadDiv;clear~Clear Theme~fa fa-eraser~clearDiv".split(";"),backgroundArray:["cgBackground~Change Background~fa fa-photo~cgBackgroundDiv","backgroundBlur~Change Background Blur~fa fa-bullseye~backgroundBlurDiv",
"backToTools~Back~fa fa-arrow-left~backToToolsDiv","clearBackground~Clear Background~fa fa-trash~clearBackgroundDiv"],overlayArray:["cgOverlay~Change Overlay~fa fa-clipboard","backToTools~Back~fa fa-arrow-left","clearOverlay~Clear Overlay~fa fa-trash"],editArray:"size~Change Font Size~fa fa-font~sizeDiv~font-size;width~Change Width~fa fa-arrows-h~widthDiv~width;position~Change Position~fa fa-arrows~positionDiv~top-left;color~Change Color~fa fa-eyedropper~colorDiv;align~Change Alignment~fa fa-align-center~alignDiv;fonts~Change Font~ fa fa-language~fontsDiv;transform~Change Transformations~fa fa-level-up~transformDiv;uppercase~Change Uppercase~fa fa-text-height~uppercaseDiv;weight~Change Font Weight~fa fa-text-width~weightDiv;style~Change Font Style~fa fa-italic~styleDiv;affixes~Change Prefix/Suffix~fa fa-edit~affixesDiv;shadow~Edit Text Shadow~fa fa-underline~shadowDiv;linearGradient~Edit Linear Text Color Gradient~fa fa-barcode~linearTextGradientDiv;delete~Delete item~fa fa-trash-o~deleteDiv".split(";"),
customTextArray:"customText~Change Text~fa fa-pencil~textDiv;size~Change Font Size~fa fa-font~sizeDiv;width~Change Width~fa fa-arrows-h~widthDiv;position~Change Position~fa fa-arrows~positionDiv;color~Change Color~fa fa-eyedropper~colorDiv;align~Change Alignment~fa fa-align-center~alignDiv;fonts~Change Font~ fa fa-language~fontsDiv;transform~Change Transformations~fa fa-level-up~transformDiv;uppercase~Change Uppercase~fa fa-text-height~uppercaseDiv;weight~Change Font Weight~fa fa-text-width~weightDiv;style~Change Font Style~fa fa-italic~styleDiv;shadow~Edit Text Shadow~fa fa-underline~shadowDiv;linearGradient~Edit Linear Text Color Gradient~fa fa-barcode~linearTextGradientDiv;delete~Delete item~fa fa-trash-o~deleteDiv".split(";"),
affixArray:["customPrefix~Change Prefix~fa fa-long-arrow-left~prefixDiv","customSuffix~Change Suffix~fa fa-long-arrow-right~suffixDiv","backToEdit~Back~fa fa-arrow-left~backToEditDiv","clearAffixes~Clear Prefix and Suffix~fa fa-trash~clearAffixesDiv"],shadowArray:"hShadow~Horizontal~fa fa-arrows-h~hShadowDiv;vShadow~Vertical~fa fa-arrows-v~vShadowDiv;blur~Blur Radius~fa fa-dot-circle-o~blurDiv;shadowColor~Change Color~fa fa-eyedropper~shadowColorDiv;backToEdit~Back~fa fa-arrow-left~backToEditDiv;clearShadow~Clear Shadow~fa fa-trash~clearShadowDiv".split(";"),
boxShadowArray:"boxhShadow~Horizontal~fa fa-arrows-h~boxhShadowDiv;boxvShadow~Vertical~fa fa-arrows-v~boxvShadowDiv;boxblur~Blur Radius~fa fa-dot-circle-o~boxblurDiv;boxshadowColor~Change Color~fa fa-eyedropper~boxshadowColorDiv;backToEdit~Back~fa fa-arrow-left~backToEditDiv;boxclearShadow~Clear Shadow~fa fa-trash~boxclearShadowDiv".split(";"),transformArray:["rotation~Change Rotation Angle~fa fa-repeat~rotationDiv","skewX~Change X Skew~fa fa-text-width~skewXDiv","skewY~Change Y Skew~fa fa-text-height~skewYDiv",
"backToEdit~Back~fa fa-arrow-left~backToEditDiv","clearTransform~Clear Transformations~fa fa-trash~clearTransformsDiv"],linearGradientArray:"gradientType~Gradient Type~fa fa-square~gradientTypeDiv;linearGradientAngle~Change Gradient Angle~fa fa-repeat~linearGradientAngleDiv;linearGradientStartColor~Change Start Color~fa fa-eyedropper~linearGradientStartColorDiv;linearGradientStopColorOne~Change Color Stop 1~fa fa-eyedropper~linearGradientStopColorOneDiv;linearGradientStopColorTwo~Change Color Stop 2~fa fa-eyedropper~linearGradientStopColorTwoDiv;backToEdit~Back~fa fa-arrow-left~backToEditDiv;clearGradient~Clear Gradient~fa fa-trash~clearGradientDiv".split(";"),
linearBoxGradientArray:"linearGradientAngle~Change Gradient Angle~fa fa-repeat~linearGradientAngleDiv;linearGradientStartColor~Change Start Color~fa fa-eyedropper~linearGradientStartColorDiv;linearGradientStopColorOne~Change Color Stop 1~fa fa-eyedropper~linearGradientStopColorOneDiv;linearGradientStopColorTwo~Change Color Stop 2~fa fa-eyedropper~linearGradientStopColorTwoDiv;backToEdit~Back~fa fa-arrow-left~backToEditDiv;clearGradient~Clear Gradient~fa fa-trash~clearGradientDiv".split(";"),boxEditArray:"width~Change Width~fa fa-arrows-h~widthDiv~width;height~Change Height~fa fa-arrows-v~heightDiv~height;position~Change Position~fa fa-arrows~positionDiv~top-left;radius~Change Radius~fa fa-circle~radiusDiv~border-radius;boxShadow~Edit Box Shadow~fa fa-cube~boxShadowDiv~box-shadow;transform~Change Transformations~fa fa-level-up~transformDiv~transform;boxColor~Change Color~fa fa-eyedropper~boxColorDiv~color;border~Edit Box Border~fa fa-square-o~borderDiv~border;linearBoxGradient~Edit Linear Box Color Gradient~fa fa-barcode~linearTextGradientDiv~shadow;delete~Delete item~fa fa-trash-o~deleteDiv~delete".split(";"),
circleEditArray:"width~Change Width~fa fa-arrows-h~widthDiv;position~Change Position~fa fa-arrows~positionDiv;boxShadow~Edit Circle Shadow~fa fa-cube~boxShadowDiv;transform~Change Transformations~fa fa-level-up~transformDiv;boxColor~Change Color~fa fa-eyedropper~boxColorDiv;border~Edit Box Border~fa fa-square-o~borderDiv;linearBoxGradient~Edit Linear Box Color Gradient~fa fa-barcode~linearTextGradientDiv;delete~Delete item~fa fa-trash-o~deleteDiv".split(";"),borderArray:["borderStyle~Border Style~fa fa-ellipsis-v~borderStyleDiv",
"borderWidth~Border Width~fa fa-arrows-h~borderWidthDiv","border-color~Border Color~fa fa-eyedropper~border-colorDiv","backToEdit~Back~fa fa-arrow-left","clearBorder~Clear Border~fa fa-trash"],iconArray:["iconsize~Change Icon Size~fa fa-expand~changeIconDiv~width","position~Change Position~fa fa-arrows~positionDiv~top-left","changeicon~Change Icon~fa fa-code-fork~changeIconDiv~change","transform~Change Transformations~fa fa-level-up~transformDiv~transform","delete~Delete item~fa fa-trash-o~deleteDiv~delete"],
gridSizeTop:160,gridSizeLeft:284,preloadWhitelist:{size:"",width:"",position:"",align:"",uppercase:"",weight:"",style:"",customPrefix:"",customSuffix:"",hShadow:"",vShadow:"",blur:"",boxhShadow:"",boxvShadow:"",boxblur:"",rotation:"",skewX:"",skewY:"",gradientType:"",linearGradientAngle:"",height:"",radius:"",iconsize:"",customText:"",borderStyle:"",borderWidth:"",posSystem:"",multiPos:""},iconList:"MonolyphDark MonolyphFlat MonolyphLight city blue clima deep plex Flex GlowWhite june Klear lines mauri mauri2 MNMLB MNMLBW MNMLW mw nude plastic playful primusweather Purcy realicons reddock round round2 shadow shiny simple simply six sixtynine Sk37ch smash stardock swhite toon toon2 topaz weathercom wetter yahoo black BlackOrange blacky bbl blackd cleard flt kelly".split(" "),
positioningSystemOption:"posSystem~Change Positioning System~fa fa-arrows-alt~posSystemDiv",multiPosition:"multiPos~Change Position~fa fa-arrows~multiPosDiv"};var action={savedElements:{},movedElements:{},wallpaper:"",uploadSelection:"",selectedItem:"",blurTimeout:null,timeout:"",lastNotificationTime:!1,zoomScale:1.5,isScrollingEdit:!1,actionQueue:[],queuePosition:-1,isUndoingRedoing:!1,sizeQueueTimeout:{timeout:null,isEditingText:!1,isTimeoutRunning:!1,previousCssKey:"",previousAction:null,initialValue:""},elementIconClick:function(){$(".elementPanel").is(":visible")||$(".elementPanel").attr("data-shown")||(action.toggleAllElementPanels(),$(".elementPanel").attr("data-shown",
"Congratulations, curious one. You are the millionth visitor!"));$(".elementPanel").is(":visible")?$(".elementPanel").animate({opacity:0,marginTop:"-300px"},{duration:200,specialEasing:{opacity:"linear",marginTop:"easeInOutCirc"},complete:function(){$(".elementPanel").toggle()}}):($(".elementPanel").css({opacity:"0",marginTop:"-300px"}),$(".elementPanel").toggle(),$(".elementPanel").animate({opacity:1,marginTop:0},{duration:200,specialEasing:{opacity:"linear",marginTop:"easeInOutCirc"},complete:function(){}}))},
setFont:function(a){action.setCss(action.selectedItem,"font-family",a);$("#fList").toggle("display")},setCss:function(a,b,c){if("string"===typeof a){if("-webkit-transform"===b)try{var e=document.getElementById(a).style.webkitTransform}catch(l){alert("Sorry, please use chrome or safari for transforms.")}else e=document.getElementById(a).style[b];$("#"+a).css(b,c);action.savedElements.placedElements[a][b]=c;action.saveStorage();clearTimeout(action.sizeQueueTimeout.timeout);""===action.sizeQueueTimeout.initialValue&&
(action.sizeQueueTimeout.initialValue=e);if("-webkit-transform"===b)try{var d=document.getElementById(a).style.webkitTransform}catch(l){alert("Sorry, please use chrome or safari for transforms.")}else d=document.getElementById(a).style[b];c=["setCss",[a,b,action.sizeQueueTimeout.initialValue,d]];b!==action.sizeQueueTimeout.previousCssKey&&""!==action.sizeQueueTimeout.previousCssKey&&action.sizeQueueTimeout.isTimeoutRunning&&(action.addAction(action.sizeQueueTimeout.previousAction),action.sizeQueueTimeout.initialValue=
e);action.sizeQueueTimeout.previousAction=c;action.sizeQueueTimeout.timeout=setTimeout(function(){action.addAction(action.sizeQueueTimeout.previousAction);action.sizeQueueTimeout.initialValue="";action.sizeQueueTimeout.isTimeoutRunning=!1},400);action.sizeQueueTimeout.isTimeoutRunning=!0;action.sizeQueueTimeout.previousCssKey=b}else if("object"===typeof a){e=[];c=["setCss",[]];b=[];for(d=0;d<a.length;d++){if("string"===typeof a[d][1])e.push(document.getElementById(a[d][0]).style[a[d][1]]),b.push(a[d][1]),
$("#"+a[d][0]).css(a[d][1],a[d][2]),action.savedElements.placedElements[a[d][0]][a[d][1]]=a[d][2],c[1].push([a[d][0],a[d][1],"",a[d][2]]);else{for(var g=[],f=[],h=[],k=0;k<a[d][1].length;k++)g.push(document.getElementById(a[d][0]).style[a[d][1][k]]),$("#"+a[d][0]).css(a[d][1][k],a[d][2][k]),"undefined"!=typeof action.savedElements.placedElements[a[d][0]]&&(action.savedElements.placedElements[a[d][0]][a[d][1][k]]=a[d][2][k]),f.push(a[d][1][k]),h.push(a[d][2][k]);e.push(g);b.push(f);c[1].push([a[d][0],
f,"",h])}action.saveStorage()}clearTimeout(action.sizeQueueTimeout.timeout);""===action.sizeQueueTimeout.initialValue&&(action.sizeQueueTimeout.initialValue=e);for(d=0;d<c[1].length;d++)for(k=1;k<c[1][d].length;k++)""===c[1][d][k]&&(c[1][d][k]=action.sizeQueueTimeout.initialValue[d]);b.toString()!==action.sizeQueueTimeout.previousCssKey.toString()&&""!==action.sizeQueueTimeout.previousCssKey&&action.sizeQueueTimeout.isTimeoutRunning&&(action.addAction(action.sizeQueueTimeout.previousAction),action.sizeQueueTimeout.initialValue=
e);action.sizeQueueTimeout.previousAction=c;action.sizeQueueTimeout.timeout=setTimeout(function(){action.addAction(action.sizeQueueTimeout.previousAction);action.sizeQueueTimeout.initialValue="";action.sizeQueueTimeout.isTimeoutRunning=!1},400);action.sizeQueueTimeout.isTimeoutRunning=!0;action.sizeQueueTimeout.previousCssKey=b}else console.log("Ya done goofed (setCss)")},"delete":function(){if(0<action.selectedItems.length){for(var a=0;a<action.selectedItems.length;a++)action.removeFromScreen(action.selectedItems[a],
!0);action.selectedItems=[]}else action.removeFromScreen(action.selectedItem,!0)},cgfont:function(){$("#fList").empty();$("#fList").append("<li>Helvetica</li>");for(var a=0;a<fontArray.length;a++){var b=document.createElement("li");b.innerHTML=$("#"+action.selectedItem).text()+"-"+fontArray[a];b.style.fontFamily=fontArray[a];b.title=fontArray[a];$("#fList").append(b)}$("#fList").toggle("display");setTimeout(function(){stroll.bind("#font ul")},1E3)},populateIcons:function(){$(".iconList").empty();
for(var a=0;a<constants.iconList.length;a++){var b=document.createElement("img");b.src="weather/"+constants.iconList[a]+".png";b.id=constants.iconList[a];$(".iconList").append(b)}$(".iconList").toggle("display")},setNewIcon:function(a,b){b||$(".iconList").toggle("display");$(".icon").attr("src","weather/real/"+a+".png");action.savedElements.iconName=a;this.saveStorage()},cgLinearGradientColor:function(a,b){var c="#"+a.split("~")[3];$(c).spectrum({showInitial:!0,maxSelectionSize:66,localStorageKey:"spectrum",
showAlpha:!0,showInput:!0,preferredFormat:"rgb",showPalette:!0,color:action.updateGradient("",b,"","","get"),palette:["black white #0074d9 #2c3e50 #27ae60 #e74c3c #393939 #3498db #2980b9 #2ecc71 #66cc99 #019875 #96281b #96281b #f64747 #e26a6a #f5ab35 #f39c12 #f89406 #f27935 #6c7a89 #95a5a6 #bdc3c7 #bfbfbf #674172 #663399 #8e44ad #9b59b6 #db0a5b #d2527f #f62459 #16a085 #d2d7d3 #4183d7 #59abe3 #3a539b".split(" ")]});setTimeout(function(){$(c).spectrum("show")},0);$(c).on("move.spectrum",function(a,
c){action.updateGradient("",b,"",c.toRgbString(),"set")})},updateGradient:function(a,b,c,e,d){if("clear"===d)return-1<action.selectedItem.indexOf("box")?action.setCss([[action.selectedItem,["background","background-color"],["","red"]]]):action.setCss([[action.selectedItem,["background","-webkit-background-clip","-webkit-text-fill-color"],["","",""]]]),"nothing";var g=document.getElementById(action.selectedItem).style.background;if(""!=g){var g=g.replace(/(rgba?\([^)]+\))/gmi,function(a){return a.replace(/[/(]/g,
"{").replace(/[,]/g,"!").replace(/[/)]/g,"}").replace(/[ ]/g,"")}),f=g.split("(");isNaN(f[1].substring(0,1))&&(g=f[0]+"(180deg,"+f[1]);g=g.replace(/deg/g,"").replace(/[%]/g,"").split(/[(), ]/)}else g="linear-gradient 179 rgb(255,0,0) rgb(255,255,0) 50 rgb(0,0,255) 90".split(" ");for(f=0;f<g.length;f++)""===g[f]?(g.splice(f,1),f--):null!=g[f].match(/[!]/g)&&(g[f]=g[f].replace(/[{]/g,"(").replace(/[!]/g,",").replace(/[}]/g,")"));var f=0,h=b.split("~");if(("pos"===h[0]||"rotate"===b)&&"set"===d){var k=
JSON.parse($(a).attr("max")),l=JSON.parse($(a).attr("min"));JSON.parse($(a).val())>=JSON.parse(k)&&$(a).val(k);JSON.parse($(a).val())<=JSON.parse(l)&&$(a).val(l)}"rotate"===b?f=1:2*JSON.parse(h[1])+1>=g.length?"set"===d?"pos"===h[0]?f=g.length-1:(g.push("rgb(0,0,255)"),g.push("100"),f=g.length-2):"get"===d&&(g.push("rgb(0,0,255)"),g.push("100"),"color"===h[0]?f=g.length-2:"pos"===h[0]&&(f=g.length-1)):"color"===h[0]?f=2*JSON.parse(h[1])+1:"pos"===h[0]&&(f=2*JSON.parse(h[1])+2);if("set"===d){1>=f||
"pos"===h[0]?g[f]=$(a).val():"color"===h[0]&&(g[f]=e);a="";for(f=0;f<g.length;f++)isNaN(g[f])?0===f?g[f]+="(":2===f?g[f]+=",":2<f&&(g[f]+=" "):(g[f]=1===f?g[f]+"deg":g[f]+"%",g[f]=f===g.length-1||f+1===g.length-1&&""===g[f+1]?g[f]+")":g[f]+","),a+=g[f];$("#"+action.selectedItem).css("background-image","red");action.setCss(action.selectedItem,"background",a);action.saveStorage()}else if("get"===d)return g[f]+c},updateTransform:function(a,b,c,e,d){try{var g=document.getElementById(action.selectedItem).style.webkitTransform}catch(h){alert("Sorry, please use chrome or safari for transforms.")}var g=
""!=g?g.replace(/deg/g,"").split(/[()]/):"rotate;0; skewX;0; skewY;0".split(";"),f=0;switch(b){case "rotate":f=1;break;case "skewX":f=3;break;case "skewY":f=5}if("set"===d){g[f]=$(a).val();d="";for(f=0;f<g.length;f++)""!=g[f]&&(isNaN(g[f])?g[f]+="(":g[f]+="deg)",d+=g[f]);"rotate(0deg) skewX(0deg) skewY(0deg)"===d?action.updateTransform(a,b,c,e,"clear"):action.setCss(action.selectedItem,"-webkit-transform",d)}else{if("get"===d)return g[f]+c;"clear"===d&&action.setCss(action.selectedItem,"-webkit-transform",
"")}},updateShadow:function(a,b,c,e,d){var g=-1<action.selectedItem.indexOf("box"),f=g?$("#"+action.selectedItem).css("box-shadow"):$("#"+action.selectedItem).css("text-shadow"),f="none"!=f?f.split(" "):["#ffffff","0px","0px","0px"];-1< !f[0].indexOf("px")&&-1<f[0].indexOf("rgb")&&(-1<f[0].indexOf("rgba")?(f[0]=f[0]+f[1]+f[2]+f[3],f[1]=f[4],f[2]=f[5],f[3]=f[6]):(f[0]=f[0]+f[1]+f[2],f[1]=f[3],f[2]=f[4],f[3]=f[5]));var h=0;e===(g?"boxhShadow":"hShadow")?h=1:e===(g?"boxvShadow":"vShadow")?h=2:e===(g?
"boxblur":"blur")?h=3:e===(g?"boxcolor":"color")&&(h=0);if("set"===d)e="","#"===a.charAt(0)?f[h]=$(a).val()+c:f[h]=b,e=f[0]+" "+f[1]+" "+f[2]+" "+f[3],g?action.setCss(action.selectedItem,"box-shadow",e):action.setCss(action.selectedItem,"text-shadow",e);else{if("get"===d)return f[h];"clear"===d&&(g?action.setCss(action.selectedItem,"box-shadow","none"):action.setCss(action.selectedItem,"text-shadow","none"))}},cgShadowColor:function(a){$(a).spectrum({showInitial:!0,maxSelectionSize:66,localStorageKey:"spectrum",
showAlpha:!0,showInput:!0,preferredFormat:"rgb",showPalette:!0,color:action.updateShadow("","","","","get"),palette:["black white #0074d9 #2c3e50 #27ae60 #e74c3c #393939 #3498db #2980b9 #2ecc71 #66cc99 #019875 #96281b #96281b #f64747 #e26a6a #f5ab35 #f39c12 #f89406 #f27935 #6c7a89 #95a5a6 #bdc3c7 #bfbfbf #674172 #663399 #8e44ad #9b59b6 #db0a5b #d2527f #f62459 #16a085 #d2d7d3 #4183d7 #59abe3 #3a539b".split(" ")]});setTimeout(function(){$(a).spectrum("show")},0);$(a).on("move.spectrum",function(b,c){action.updateShadow(a?
"box":"",c.toRgbString(),"px","color","set")});$(a).on("hide.spectrum",function(b,c){$(a).spectrum("destroy")})},cgCustomText:function(){action.cgText(constants.customTextArray[0],"Custom Text","Text",function(a){$("#"+action.selectedItem).html($(a).val());var b=16*$(a).val().length;$(a).css("width",150<b?b:150);action.savedElements.placedElements[action.selectedItem].innerHTML=$(a).val();action.saveStorage()},function(){return $("#"+action.selectedItem).html()})},cgAffix:function(a){"prefix"===a?
action.cgText(constants.affixArray[0],"Custom Prefix","Prefix",function(a){action.affixCallbacks(a,"prefix","set")},function(a){return action.affixCallbacks(a,"prefix","get")}):"suffix"===a?action.cgText(constants.affixArray[1],"Custom Suffix","Suffix",function(a){action.affixCallbacks(a,"suffix","set")},function(a){return action.affixCallbacks(a,"suffix","get")}):"clear"===a&&($("#"+action.selectedItem).html($("#"+action.selectedItem).html().replace($("#"+action.selectedItem).attr("data-prefix"),
"")),$("#"+action.selectedItem).html($("#"+action.selectedItem).html().replace($("#"+action.selectedItem).attr("data-suffix"),"")),$("#"+action.selectedItem).attr("data-prefix",""),$("#"+action.selectedItem).attr("data-suffix",""),action.savedElements.placedElements[action.selectedItem]["data-suffix"]="",action.savedElements.placedElements[action.selectedItem]["data-prefix"]="",action.saveStorage(),action.showProperMenuForId(action.selectedItem))},affixCallbacks:function(a,b,c){var e="data-"+b;if("set"===
c)c="prefix"===b?"suffix":"prefix","prefix"===b?($("#"+action.selectedItem).html($("#"+action.selectedItem).html().replace($(a).attr("data-last-value"),"")),$("#"+action.selectedItem).html($("#"+action.selectedItem).html().replace($("#"+action.selectedItem).attr("data-"+c),"")),$("#"+action.selectedItem).html($(a).val()+$("#"+action.selectedItem).html())):"suffix"===b&&($("#"+action.selectedItem).html($("#"+action.selectedItem).html().replace($("#"+action.selectedItem).attr("data-"+c),"")),$("#"+
action.selectedItem).html($("#"+action.selectedItem).html().replace($(a).attr("data-last-value"),"")),$("#"+action.selectedItem).html($("#"+action.selectedItem).html()+$(a).val())),"undefined"!=typeof $("#"+action.selectedItem).attr("data-"+c)&&("prefix"===c?$("#"+action.selectedItem).html($("#"+action.selectedItem).attr("data-"+c)+$("#"+action.selectedItem).html()):"suffix"===c&&$("#"+action.selectedItem).html($("#"+action.selectedItem).html()+$("#"+action.selectedItem).attr("data-"+c))),$("#"+action.selectedItem).attr(e,
$(a).val()),$(a).attr("data-last-value",$(a).val()),action.savedElements.placedElements[action.selectedItem][e]=$(a).val(),action.saveStorage();else if("get"===c)return b=$("#"+action.selectedItem).attr(e),$(a).attr("data-last-value",b),b},cgText:function(a,b,c,e,d){var g=a.split("~"),f=$("#"+g[3]).position().top+11,h="#custom"+c+"DivWrapper",k="#custom"+c+"Input";a="#"+g[0];if($(h).length)$(a).parent().toggleClass("leftTooltip"),$(h).toggle("display");else{var l=function(){var a=16*$(k).val().length;
$(k).css("width",150<a?a:150);e(k)};b=action.getInputWrapper("custom"+c,78,f,0,0,b,!0);b.prependTo("#"+g[3]);$(k).val(d(k));d=16*$(k).val().length;$(k).css("width",150<d?d:150);$(k).on("change",function(){l()});$(k).keydown(function(){l()});$(k).keyup(function(){l()});$(k).focusin(function(){action.isEditingText=!0});$(k).focusout(function(){action.isEditingText=!1});$(a).parent().toggleClass("leftTooltip");b.toggle("display");$(k).focus()}},cgSize:function(a,b,c,e,d,g,f,h,k,l,m,n){var q=b.split("~");
b="#"+a+"DivWrapper";var p="#"+a+"Input",r="#"+q[0];void 0!==k&&k||(k=$("#"+q[3]).position().top+11);void 0!==l&&l||(l=80);void 0!==m&&m||(m=q[1].substring(6,q[1].length));void 0!==n&&n||(n=1);if(!$(b).length){action.getInputWrapper(a,l,k,e,d,m,!1).insertAfter("#"+q[3]);$("#"+a+"Decrement").on("click",function(a){action.handleInputButtonEvent(p,-1,g,f,c,h,a)});$("#"+a+"Increment").on("click",function(a){action.handleInputButtonEvent(p,1,g,f,c,h,a)});a=h(p,g,c,f,"get");try{$(p).val(Math.round(JSON.parse(a.substring(0,
a.length-c.length))))}catch(t){console.log("There was an issue with setting the value of the input with idSelector:"+p)}$(p).on("change",function(){h(p,g,c,f,"set")});$(p).focusin(function(){action.isEditingText=!0});$(p).focusout(function(){action.isEditingText=!1});$(r).parent().attr("class","")}$(b).toggle("display")},handleInputButtonEvent:function(a,b,c,e,d,g,f){f.preventDefault();var h=JSON.parse($(a).attr("max")),k=JSON.parse($(a).attr("min"));f.shiftKey?action.sizeControl(a,(0<b?h:k)-JSON.parse($(a).val())):
f.altKey?action.sizeControl(a,10*b):action.sizeControl(a,1*b);g(a,c,d,e,"set")},getInputWrapper:function(a,b,c,e,d,g,f){var h=$('<div id="'+a+'DivWrapper" style="display: none;"></div>');f?$('<input type="text" id="'+a+'Input" style="top: '+JSON.parse(c)+"; right: "+JSON.parse(b)+'">').prependTo(h):(f=$('<div id="'+a+'Decrement" class="sizeControl" style="top: '+(JSON.parse(c)+15)+"; right: "+(JSON.parse(b)+93)+';"></div>'),$('<a href="#" class="fa fa-minus-circle" title="Try shift+clicking and alt+clicking!"></a>').appendTo(f),
f.prependTo(h),$('<input type="number" id="'+a+'Input" min="'+e+'" max="'+d+'" style="top: '+JSON.parse(c)+"; right: "+JSON.parse(b)+'">').prependTo(h),a=$('<div id="'+a+'Increment" class="sizeControl inputLabel" data-title="'+g+'" style="top:'+(JSON.parse(c)+15)+"; right: "+(JSON.parse(b)+11)+';"></div>'),$('<a href="#" class="fa fa-plus-circle" title="Try shift+clicking and alt+clicking!"></a>').appendTo(a),a.prependTo(h));return h},cgOption:function(a,b,c,e,d,g,f){var h=b.split("~");b="#"+a+"DivWrapper";
var k="#"+h[0];0!==e&&e||(e=$("#"+h[3]).position().top+11);if($(b).length)$(b).is(":visible")?$(k).parent().attr("class","leftTooltip"):$(k).parent().attr("class","");else{$('<div id="'+a+'DivWrapper" style="display: block;" class="options"></div>').insertAfter("#"+h[3]);a=80;for(h=c.length-1;0<=h;h--){var l="#"+c[h]+"OptionDiv",m="#"+c[h]+"Option";$('<div id="'+c[h]+'OptionDiv" style="top: '+e+'px;"></div>').appendTo($(b));var n=f(c[h]);n.appendTo($("#"+c[h]+"OptionDiv"));$(l).css({right:a,width:$("#"+
c[h]+"Option").width()+10,height:$("#"+c[h]+"Option").height()+2});"undefined"!=typeof n.attr("data-selected")&&JSON.parse(n.attr("data-selected"))&&(n.parent().attr("data-selected","true"),n.parent().css("background-color","#21b9b0"),n.parent().css("border-color","#21b9b0"));d&&$(m).css({width:$("#"+c[h]+"OptionDiv").css("width")});0===h?$(l).attr("class","firstOption"):h===c.length-1&&($(l).attr("class","lastOption"),a+=2*JSON.parse($(l).css("border-right-width").replace(/\D+$/g,"")));a+=$(m).width()+
0;(function(a){$(l).click(function(){g("#"+c[a]+"Option")})})(h);$(l).mouseover(function(){$(this).css("background-color","#21b9b0");$(this).css("border-color","#21b9b0")}).mouseout(function(){if("false"===$(this).attr("data-selected")||"undefined"===typeof $(this).attr("data-selected"))$(this).css("background-color","#54606e"),$(this).css("border-color","#54606e")})}$(k).parent().attr("class"," ");$(b).css("display","none");$(b).toggle("display")}},cgPosition:function(){this.cgSize("posLeft",constants.editArray[2],
"px",0,$(".screen").width()-$("#"+action.selectedItem).width(),"left","left",action.updateSize,"","80","Left",2);this.cgSize("posTop",constants.editArray[2],"px",0,$(".screen").height()-$("#"+action.selectedItem).height(),"top","top",action.updateSize,"","208","Top",2);$("#"+action.selectedItem).on("drag",function(){$("#posLeftInput").val(Math.round(JSON.parse($("#"+action.selectedItem).position().left)));$("#posTopInput").val(Math.round(JSON.parse($("#"+action.selectedItem).position().top)))});$("#"+
action.selectedItem).resize(function(){$("#posLeftInput").attr("max",$(".screen").width()-$("#"+action.selectedItem).width())})},getElementExtreme:function(a,b,c){a.includes("#")||(a="#"+a);$(a).position();switch(b){case "maxleft":return $(".screen").width()-$(a).width();case "minleft":return 0;case "maxtop":return $(".screen").height()-$(a).height();case "mintop":return 0;default:return 0}},sizeControl:function(a,b){$(a).val(JSON.parse($(a).val())+b)},backgroundBlur:function(a,b,c,e,d){if("set"===
d)b=JSON.parse($(a).attr("max")),c=JSON.parse($(a).attr("min")),JSON.parse($(a).val())>=JSON.parse(b)&&$(a).val(b),JSON.parse($(a).val())<=JSON.parse(c)&&$(a).val(c),$("#miniBlurCanvas").show(),stackBlurImage("miniWallpaper","miniBlurCanvas",$(a).val(),!1),null!=action.blurTimeout&&clearTimeout(action.blurTimeout),action.blurTimeout=setTimeout(function(){$("#miniBlurCanvas").removeClass("miniBlur");$("#miniBlurCanvas").animate({opacity:.25,width:320,height:568},1E3,function(){$("#miniBlurCanvas").hide();
$("#miniBlurCanvas").addClass("miniBlur");$("#miniBlurCanvas").css("opacity","1")});stackBlurImage("wallpaper","blurcanvas",$(a).val(),!1);localStorage.setItem("wallpaperBlur",$(a).val())},400);else if("get"===d)return b=localStorage.getItem("wallpaperBlur"),null!=b&&"0"!=b?b:"0"},updateSize:function(a,b,c,e,d){if("set"===d){d=JSON.parse($(a).attr("max"));var g=JSON.parse($(a).attr("min"));JSON.parse($(a).val())>=JSON.parse(d)&&$(a).val(d);JSON.parse($(a).val())<=JSON.parse(g)&&$(a).val(g);"width"===
e?(d=Math.round($(a).val()),e=Math.round($("#"+action.selectedItem).position().left),d=Math.round(d-($(".screen").width()-e)),0<d&&(e=e-d+"px"),$("#posLeftInput").attr("max",$(".screen").width()-$("#"+action.selectedItem).width()),$("#posTopInput").attr("max",$(".screen").height()-$("#"+action.selectedItem).height()),"Circle"===action.selectedItem.substring(3,9)?action.setCss([[action.selectedItem,["height","width","left"],[$(a).val()+c,$(a).val()+c,e]]]):"#iconSizeInput"===a?(a=[$(a).val()+c,e],
action.setCss([["icon",["width","left"],a],["iconImg",["width","left"],a]])):action.setCss([[action.selectedItem,[b,"left"],[$(a).val()+c,e]]])):action.setCss(action.selectedItem,b,$(a).val()+c);action.saveStorage()}else if("get"===d)return $("#"+action.selectedItem).css(b)},cgGradientPurpose:function(){var a;this.cgOption("gradientType",constants.linearGradientArray[0],["background","text"],14,!0,function(b){"#backgroundOption"===b?action.setCss([[action.selectedItem,["-webkit-background-clip","-webkit-text-fill-color"],
["",""]]]):"#textOption"===b&&action.setCss([[action.selectedItem,["-webkit-background-clip","-webkit-text-fill-color"],["text","transparent"]]]);action.saveStorage();$(b).parent().css({"background-color":"#21b9b0","border-color":"#21b9b0"}).attr("data-selected","true");a!=b&&$(a).parent().css({"background-color":"#54606e","border-color":"#54606e"}).attr("data-selected","false");a=b},function(a){return $('<label id="'+a+'Option" style="text-align: '+a+';">'+a+"</label>")})},cgalign:function(){var a=
"#"+$("#"+action.selectedItem).css("text-align")+"Option";this.cgOption("align",constants.editArray[4],["left","center","right"],0,!0,function(b){a=action.basicOptionSelected(b,a,"text-align",$(b).attr("id").substring(0,$(b).attr("id").length-6))},function(a){return action.getBasicOptionElement(a,"text-align: "+a,"text-align")})},basicOptionSelected:function(a,b,c,e){action.setCss(action.selectedItem,c,e);return action.ultraBasicOptionSelected(a,b)},ultraBasicOptionSelected:function(a,b){$(a).parent().css({"background-color":"#21b9b0",
"border-color":"#21b9b0"}).attr("data-selected","true");b!=a&&$(b).parent().css({"background-color":"#54606e","border-color":"#54606e"}).attr("data-selected","false");return a},getBasicOptionElement:function(a,b,c){b=$('<label id="'+a+'Option" style="'+b+';">'+a+"</label>");$("#"+action.selectedItem).css(c)===a&&b.attr("data-selected","true");return b},cgcolor:function(a,b,c){a?action.setCss(action.selectedItem,b,a):(console.log(b),$("#"+c).spectrum({showInitial:!0,maxSelectionSize:66,localStorageKey:"spectrum",
showAlpha:!0,showInput:!0,preferredFormat:"rgba",showPalette:!0,color:$("#"+this.selectedItem).css(b),palette:["black white #0074d9 #2c3e50 #27ae60 #e74c3c #393939 #3498db #2980b9 #2ecc71 #66cc99 #019875 #96281b #96281b #f64747 #e26a6a #f5ab35 #f39c12 #f89406 #f27935 #6c7a89 #95a5a6 #bdc3c7 #bfbfbf #674172 #663399 #8e44ad #9b59b6 #db0a5b #d2527f #f62459 #16a085 #d2d7d3 #4183d7 #59abe3 #3a539b".split(" ")]}),setTimeout(function(){$("#"+c).spectrum("show")},0),$("#"+c).on("hide.spectrum",function(a,
d){action.cgcolor(d.toRgbString(),b,c);$("#"+c).spectrum("destroy")}),$("#"+c).on("move.spectrum",function(a,d){action.cgcolor(d.toRgbString(),b,c)}))},cgStyle:function(){var a="#"+$("#"+action.selectedItem).css("font-style")+"Option";this.cgOption("style",constants.editArray[9],["italic","oblique","initial"],0,!0,function(b){a=action.basicOptionSelected(b,a,"font-style",$(b).attr("id").substring(0,$(b).attr("id").length-6))},function(a){return action.getBasicOptionElement(a,"text-align: center; font-style: "+
a,"font-style")})},cgBorderStyle:function(){var a="#"+$("#"+action.selectedItem).css("border-style")+"Option";this.cgOption("borderStyle",constants.borderArray[0],"dotted dashed solid double groove ridge inset outset".split(" "),20,!0,function(b){a=action.basicOptionSelected(b,a,"border-style",$(b).attr("id").substring(0,$(b).attr("id").length-6))},function(a){return action.getBasicOptionElement(a,"text-align:center; font-size:15px;","border-style")})},cguppercase:function(){var a="#"+$("#"+action.selectedItem).css("text-transform")+
"Option";this.cgOption("uppercase",constants.editArray[7],["uppercase","capitalize","lowercase"],0,!0,function(b){a=action.basicOptionSelected(b,a,"text-transform",$(b).attr("id").substring(0,$(b).attr("id").length-6))},function(a){return action.getBasicOptionElement(a,"text-align: center; text-transform: "+a,"text-transform")})},cgweight:function(){var a,b=$("#"+action.selectedItem).css("font-weight");""!=b&&(a=isNaN(b)?"#"+b+"Option":"#boldnessOption");this.cgOption("weight",constants.editArray[8],
["boldness","bold","normal"],0,!0,function(b){a=action.basicOptionSelected(b,a,"font-weight","#boldnessOption"!=b?$(b).attr("id").substring(0,$(b).attr("id").length-6):$("#boldnessInput").val());"#boldOption"===b?$("#boldnessInput").val(700):"#normalOption"===b&&$("#boldnessInput").val(400)},function(a){if("boldness"===a){a=action.getInputWrapper("boldness",0,0,100,900,"",!1);a.css("display","block");var b,d=$("#"+action.selectedItem).css("font-weight");try{b=JSON.parse(d)}catch(k){b="bold"===d?700:
"normal"===d?400:100}var g=$(a).children(),f=$(g[0]),h=$(g[1]),g=$(g[2]);h.val(b);h.attr("step",100);h.css({"border-top-right-radius":0,"border-bottom-right-radius":0,"border-width":0,"border-color":"rgba(0,0,0,0)","background-color":"rgba(0,0,0,0)","border-style":""});a.css({width:120,height:45,"background-color":"rgba(0,0,0,0)","border-width":0});f.css({"border-width":0});g.css({"border-width":0});f.on("click",function(a){action.handleInputButtonEvent("#boldnessInput",100,"font-weight","font-weight",
"",action.updateSize,a)});g.on("click",function(a){action.handleInputButtonEvent("#boldnessInput",-100,"font-weight","font-weight","",action.updateSize,a)});a.attr("id","boldnessOption");a.appendTo($("#boldnessOptionDiv"));a.attr("class","noHoverChange");"400"===d?($("#normalOptionDiv").attr("data-selected","true"),$("#normalOptionDiv").css("background-color","#21b9b0"),$("#normalOptionDiv").css("border-color","#21b9b0")):"700"===d?($("#boldOptionDiv").attr("data-selected","true"),$("#boldOptionDiv").css("background-color",
"#21b9b0"),$("#boldOptionDiv").css("border-color","#21b9b0")):d===$(h).val()&&(a.parent().attr("data-selected","true"),a.parent().css("background-color","#21b9b0"),a.parent().css("border-color","#21b9b0"));return a}b=$('<label id="'+a+'Option" style="text-align: center; font-weight: '+a+';">'+a+"</label>");$("#"+action.selectedItem).css("font-weight")===a&&($("#"+$(b).attr("id")+"Div").attr("data-selected","true"),$("#"+$(b).attr("id")+"Div").css("background-color","#21b9b0"),$("#"+$(b).attr("id")+
"Div").css("border-color","#21b9b0"));return b});$("#boldnessOptionDiv").css({height:29,width:110});$("#boldnessOption").css({top:-9,left:-12});$("#boldnessOption").hover(function(){$(this).css({"background-color":"rgba(0,0,0,0)","border-color":"rgba(0,0,0,0)"})});$("#boldnessOption").on("change",function(){action.setCss(action.selectedItem,"font-weight",$("#boldnessInput").val())})},openBackground:function(a){if("none"!=$("#wallpaper").attr("src")){var b=window.open("");if("blurry"===a){var c=document.getElementById("blurcanvas").cloneNode();
c.className="";stackBlurImage("wallpaper",c,localStorage.getItem("wallpaperBlur"),!1);a=c.toDataURL();c=document.createElement("img");c.src=a;c.style.display="block"}else"original"===a&&(c=$("#wallpaper").clone(),c.attr("style",""),c.attr("width",""),c.attr("height",""));$("body",b.document).append(c);$("head",b.document).append($("<title>Wallpaper</title>"))}},showPanel:function(a){$("#"+a).css("visibility","visible")},undo:function(){action.isUndoingRedoing=!0;if(-1<action.queuePosition){var a=
action.actionQueue[action.queuePosition];action.runOppositeAction(a[0],a[1]);action.queuePosition--}action.isUndoingRedoing=!1;console.log("Queue Position: "+action.queuePosition+" / "+(action.actionQueue.length-1))},redo:function(){action.isUndoingRedoing=!0;if(action.queuePosition<action.actionQueue.length-1){action.queuePosition++;var a=action.actionQueue[action.queuePosition];action.runAction(a[0],a[1])}action.isUndoingRedoing=!1;console.log("Queue Position: "+action.queuePosition+" / "+(action.actionQueue.length-
1))},addAction:function(a){action.actionQueue.length=action.queuePosition+1;action.actionQueue.push(a);action.queuePosition=action.actionQueue.length-1;console.log("Queue Position: "+action.queuePosition+" / "+(action.actionQueue.length-1))},runOppositeAction:function(a,b){switch(a){case "addElement":if("string"===typeof b[0])action.removeFromScreen(b[0],!1);else if("object"===typeof b[0])for(var c=0;c<b.length;c++)action.removeFromScreen(b[c][0],!1);break;case "removeElement":action.runAction("addElement",
b);break;case "setCss":if("string"===typeof b[0])$("#"+b[0]).css(b[1],b[2]),action.savedElements.placedElements[b[0]][b[1]]=b[2];else for(c=0;c<b.length;c++)if("string"===typeof b[c][1])$("#"+b[c][0]).css(b[c][1],b[c][2]),action.savedElements.placedElements[b[c][0]][b[c][1]]=b[c][2];else for(var e=0;e<b[c][1].length;e++)$("#"+b[c][0]).css(b[c][1][e],b[c][2][e]),"undefined"!=typeof action.savedElements.placedElements[b[c][0]]&&(action.savedElements.placedElements[b[c][0]][b[c][1][e]]=b[c][2][e]);action.saveStorage()}},
runAction:function(a,b){switch(a){case "addElement":var c=function(a,b){$("#"+a+"Picker").length&&($("#"+a+"Picker").css("background-color","#21B9B0"),$("#"+a+"Picker").css("border-color","#21B9B0"));action.savedElements.placedElements[a]=b};if("string"===typeof b[0])c(b[0],b[1]);else if("object"===typeof b[0])for(var e=0;e<b.length;e++)c(b[e][0],b[e][1]);$("#screenElements").empty();action.replaceElements();action.saveStorage();break;case "removeElement":action.runOppositeAction("addElement",b);
break;case "setCss":if("string"===typeof b[0])$("#"+b[0]).css(b[1],b[3]),action.savedElements.placedElements[b[0]][b[1]]=b[3];else for(e=0;e<b.length;e++)if("string"===typeof b[e][1])$("#"+b[e][0]).css(b[e][1],b[e][3]),action.savedElements.placedElements[b[e][0]][b[e][1]]=b[e][3];else for(c=0;c<b[e][1].length;c++)$("#"+b[e][0]).css(b[e][1][c],b[e][3][c]),"undefined"!=typeof action.savedElements.placedElements[b[e][0]]&&(action.savedElements.placedElements[b[e][0]][b[e][1][c]]=b[e][3][c]);action.saveStorage()}},
elementPanel:function(a,b){b="undefined"!=typeof b?b:400;"cl"===a&&($("#clockList").toggle(b),this.showPanel("clockList"));"wl"===a&&($("#weatherList").toggle(b),this.showPanel("weatherList"));"sl"===a&&($("#systemList").toggle(b),this.showPanel("systemList"));"ml"===a&&($("#miscList").toggle(b),this.showPanel("miscList"))},getElementPanelIdSelector:function(a){if("cl"===a)return"#clockList";if("wl"===a)return"#weatherList";if("sl"===a)return"#systemList";if("ml"===a)return"#miscList"},toggleAllElementPanels:function(){action.elementPanel("cl",
0);action.elementPanel("wl",0);action.elementPanel("sl",0);action.elementPanel("ml",0)},clearTheme:function(a){if(-1===a)if($(".yesClear").length||$(".noClear").length||$(".clearLabel").length)action.clearTheme(0);else{a=$("#clearDiv").position().top+10;var b=a+4;$("#clear").parent().attr("class"," ");$('<button style="top:'+b+'px; left:180px; background-color:#343434;" type="button" class="noClear">No</button>').prependTo("#clearDiv");$('<button style="top:'+b+'px; left:120px; background-color:#343434;" type="button" class="yesClear">Yes</button>').prependTo("#clearDiv");
$('<label style="top:'+a+'px; left:200px; display:none;" class="clearLabel">Clear Theme?</label>').prependTo("#clearDiv");$(".yesClear").click(function(){action.clearTheme(1)});$(".noClear").click(function(){action.clearTheme(0)})}else 0===a?action.hideClearLabel():1===a&&($("script[title='widgetScript']").remove(),elPanel.removeSelected(),localStorage.removeItem("placedElements"),action.savedElements={},action.movedElements={},action.selectedItem="",$("#screenElements").empty(),$(".newSVG").remove(),
$(".svg").remove(),action.hideClearLabel(),action.hideElementPanelElements(),action.setBG(""),$(".screenoverlay").css("background-image",""),$(".screen").prepend('<img class="svg"/>'),action.actionQueue=[],action.queuePosition=-1,action.isUndoingRedoing=!1,action.sizeQueueTimeout={timeout:null,isTimeoutRunning:!1,previousCssKey:"",previousAction:null,initialValue:""})},hideClearLabel:function(){$(".noClear").remove();$(".yesClear").remove();$(".clearLabel").remove();$("#clear").parent().attr("class",
"leftTooltip")},hideElementPanelElements:function(){for(var a=$(".elementPanel").children(),b=0;b<a.length;b++)if($(a[b]).is("div")){$(a[b]).is(":visible")&&$(a[b-1]).click();for(var c=$($(a[b]).find("div")).find("li"),e=0;e<c.length;e++){var d=$(c[e]);"undefined"!=typeof d.attr("data-element")&&"#54606e"!=d.css("background-color")&&"rgb(84, 96, 110)"!=d.css("background-color")&&(d.css("background-color","#54606e"),d.css("border-color","#54606e"))}}},createLI:function(a,b){$("#"+b).empty();action.parseElementsArray(a,
"#"+b);if(""===$("#"+b).attr("class")||"undefined"===typeof $("#"+b).attr("class")){var c=0,e="69px",d=$("#"+b).children().length;if(5<d){var c=5,g=$('<li id="dummyOne"><a title=""><label></label></a></li>'),f=$('<li id="dummyTwo"><a title=""><label></label></a></li>');$("#"+b).append(g);$("#"+b).append(f)}else c=d-1,e="28px";$("#"+b).slick({centerMode:!0,centerPadding:e,infinite:!1,arrows:!0,slide:"li",speed:100,vertical:!0,initialSlide:0,slidesToShow:c,verticalSwiping:!1});$($("#"+b).find("[aria-live=polite]")).css("width",
"500px");$(".slick-slide").css("float","none");c=$('<button class="slick-arrow slickNext fa fa-arrow-down" style="display: block;"></button>');$($("#"+b).find(".slick-next")[0]).remove();$(c).html("");$(c).click(function(){action.slickProgress("next",b)});$("#"+b).append(c);c=$('<button class="slick-arrow slickPrev fa fa-arrow-up" style="display: block;"></button>');$($("#"+b).find(".slick-prev")[0]).remove();$(c).html("");$(c).click(function(){action.slickProgress("prev",b)});$("#"+b).append(c);
5>=d&&$($("#"+b).find("[aria-live=polite]")).attr("style","height: 126px!important; padding: 28px 0px;");action.setCarouselOpacity(b)}else $("#"+b).attr("class","");$("#"+b).hover(function(){$(document).keyup(function(){38===event.keyCode?$("#"+b).slick("slickPrev"):40===event.keyCode&&action.shouldSlickProgress(b)&&$("#"+b).slick("slickNext");action.setCarouselOpacity(b)})},function(){$(document).unbind("keyup")});$("#"+b+":hover").length&&$("#"+b).mouseenter()},slickProgress:function(a,b){switch(a){case "prev":$("#"+
b).slick("slickPrev");action.setCarouselOpacity(b);break;case "next":action.shouldSlickProgress(b)&&$("#"+b).slick("slickNext")}action.setCarouselOpacity(b)},shouldSlickProgress:function(a){return 5>=$($("#"+a).find(".slick-track")[0]).children().length||"dummyOne"!=$($("#"+a).find("[data-slick-index="+(JSON.parse($("#"+a).find(".slick-center").attr("data-slick-index"))+1)+"]")[0]).attr("id")},parseElementsArray:function(a,b){Object.keys(a).forEach(function(c){if(a[c].constructor===Object)action.parseElementsArray(a[c],
b);else if("title"===c){var e=a[c].toLowerCase().replace(/\s/g,""),d=e+"Category",e=e+"SubCategory";$('<li id="'+d+'" class="categoryTitle">'+a[c]+"</li>").appendTo($(b));$('<ul style="display: none" id="'+e+'" class="subCategory"></ul>').appendTo("#"+d)}else d="#"+a.title.toLowerCase().replace(/\s/g,"")+"SubCategory",$('<li id="'+c+'Picker" data-element="'+c+'">'+a[c]+"</li>").appendTo($(d)),$("#"+c).length&&($("#"+c+"Picker").css("background-color","#21b9b0"),$("#"+c+"Picker").css("border-color",
"#21b9b0"))})},setCarouselOpacity:function(a){var b=$("#"+a).find(".slick-center").attr("data-slick-index"),c=$("#"+a).find("[data-slick-index="+(JSON.parse(b)-1)+"]"),e=$("#"+a).find("[data-slick-index="+JSON.parse(b)+"]"),d=$("#"+a).find("[data-slick-index="+(JSON.parse(b)+1)+"]");$("#"+a).find("[data-slick-index="+(JSON.parse(b)-2)+"]").css({opacity:.07,"font-size":"16px",height:"auto",border:"1px solid transparent"});$(c).css({opacity:.5,"font-size":"16px",height:"auto",border:"1px solid transparent"});
$(c).removeClass("elementPanelPreview");$(e).css({opacity:1,"pointer-events":"auto","font-size":"30px",border:"2px solid #21b9b0"});$(e).addClass("elementPanelPreview");$(d).css({opacity:.5,"font-size":"16px",height:"auto",border:"1px solid transparent"});$(d).removeClass("elementPanelPreview");$("#"+a).find("[data-slick-index="+(JSON.parse(b)+2)+"]").css({opacity:.07,"font-size":"16px",height:"auto",border:"1px solid transparent"});$("#"+a).find("[data-slick-index="+(JSON.parse(b)-2)+"]").find("ul").first().hide();
c.find("ul").first().hide();$(e).find("ul").first().show();d.find("ul").first().hide();$("#"+a).find("[data-slick-index="+(JSON.parse(b)+2)+"]").find("ul").first().hide();a=e.clone().children().remove().end().text();10<=a.length&&($(e).css("height",34),14<a.length?$(e).css("font-size",17):$(e).css("font-size",20))},saveTheme:function(){if(null!==action.wallpaper&&"null"!==action.wallpaper){var a=document.getElementById("blurcanvas").toDataURL();7<a.length?($(".screen").css("background-image","url("+
a+")"),action.wallpaper=a,action.saveStorage()):$(".screen").css("background-image","url("+action.wallpaper+")")}$(".sidePanel").css("display","none");$("#screenCover").css("display","none");$(".elementPanel").css("display","none");$(".sidePanel").css("opacity","1");$("#roundmenu").css("opacity","0");window.location="ios:webToNativeCall";setTimeout(function(){$("#roundmenu").css("opacity","1")},15E3)},setBG:function(a){if(""!=a){$("#wallpaper").attr("src",a);$("#wallpaper").css("display","initial");
action.wallpaper=a;a=localStorage.getItem("wallpaperBlur");if(null===a||""===a||"null"===a)a=0;stackBlurImage("wallpaper","blurcanvas",a,!1);a=document.getElementById("wallpaper");var b=document.createElement("canvas");b.style.display="none";b.width=a.width/2;b.height=a.height/2;b.getContext("2d").drawImage(a,0,0,a.width/2,a.height/2);$("#miniWallpaper").attr("src",b.toDataURL())}else $("#wallpaper").attr("src",""),$("#wallpaper").hide(),(b=document.getElementById("blurcanvas"))&&b.getContext("2d").clearRect(0,
0,b.width,b.height),action.wallpaper=null,localStorage.setItem("wallpaperBlur","0"),action.showIconMenu(constants.toolArray,-1),$("#bgInput").after($("#bgInput").clone(!0)).remove();action.saveStorage("wallpaper")},setOverlay:function(a){document.querySelector(".svg").src=a;$(".screenoverlay").css("background-image","url("+a+")");action.savedElements.overlay=a;"data:image/svg"===a.split("+")[0]&&setTimeout(function(){showSVG(".svg",!0);setTimeout(function(){var a=document.querySelector(".newSVG").innerHTML;
$(".newSVG").empty();var c=document.createElement("div");c.className="newSVG";c.innerHTML=a;document.querySelector(".screen").appendChild(c)},0)},0);action.saveStorage()},saveStorage:function(a){"wallpaper"===a?localStorage.setItem("wallpaper",action.wallpaper):localStorage.setItem("placedElements",JSON.stringify(action.savedElements))},remakeDIV:function(a){var b=document.createElement("div");b.id=a;b.style.position="absolute";document.getElementById("screenElements").appendChild(b);this.addDraggable(a);
loadClock();weatherdivs();systemdivs();miscDivs()},replaceElements:function(){Object.keys(this.savedElements.placedElements).forEach(function(a){"widget"==action.savedElements.placedElements[a].type?loadexjsfile(a,!0):action.remakeDIV(a);var b=action.savedElements.placedElements[a];Object.keys(b).forEach(function(c){var e=b[c];"fontSize"===c?c="font-size":"textAlign"===c&&(c="text-align");"icon"===a?($("#icon").css(c,e),"width"!==c&&"height"!==c||$(".icon").css(c,e)):"text"===a.substring(0,4)&&"innerHTML"===
c?$("#"+a).html(e):"data-prefix"===c?($("#"+a).attr("data-prefix",e),$("#"+a).html(e+$("#"+a).html())):"data-suffix"===c?($("#"+a).attr("data-suffix",e),$("#"+a).html($("#"+a).html()+e)):$("#"+a).css(c,e)})})},loadFromStorage:function(){localStorage.placedElements&&2<localStorage.placedElements.length&&(this.savedElements=JSON.parse(localStorage.placedElements),this.movedElements=this.savedElements.placedElements,this.savedElements.overlay&&this.setOverlay(this.savedElements.overlay),this.savedElements.placedElements&&
this.replaceElements(),this.savedElements.iconName&&this.setNewIcon(this.savedElements.iconName,1));this.savedElements.wallpaper&&10<this.savedElements.wallpaper.length&&(localStorage.setItem("wallpaper",this.savedElements.wallpaper),this.savedElements.wallpaper="");action.wallpaper=localStorage.getItem("wallpaper");""!=action.wallpaper&&null!=action.wallpaper&&"null"!=action.wallpaper&&this.setBG(action.wallpaper)},addDraggable:function(a){$("#"+a).draggable({containment:"window",start:function(b,
c){c.position.left=0;c.position.top=0;$(".dLine[title='"+a+"']").remove();action.selectedItem!=a&&handleScreenClick(b);action.sizeQueueTimeout.initialValue=[$("#"+a).position().top,$("#"+a).position().left]},drag:function(a,c){var e=c.originalPosition.top+(c.position.top-c.originalPosition.top)/action.zoomScale;c.position.left=c.originalPosition.left+(c.position.left-c.originalPosition.left)/action.zoomScale;c.position.top=e;320<c.position.left+$("#"+action.selectedItem).width()&&(c.position.left=
320-$("#"+action.selectedItem).width());568<c.position.top+$("#"+action.selectedItem).height()&&(c.position.top=568-$("#"+action.selectedItem).height());0>c.position.left&&(c.position.left=0);menu.updatePosition(Math.round(c.position.left),Math.round(c.position.top))},stop:function(b,c){var e=$("#"+a).position();action.addAction(["setCss",[[a,["top","left"],action.sizeQueueTimeout.initialValue,[c.position.top,c.position.left]]]]);action.sizeQueueTimeout.initialValue="";action.savedElements.placedElements[a].left=
c.position.left;action.savedElements.placedElements[a].top=c.position.top;action.saveStorage();if("true"==localStorage.snap){var d=$("<div>",{"class":"dLine",title:a}),g=$("#"+a),e=g.position();d.insertBefore(g);d.css({top:e.top+"px",left:e.left+"px",width:g.width(),height:g.height()})}},snap:".dLine"})},addtoScreen:function(a){var b=document.createElement("div");b.id=a;"box"===a.substring(0,3)?(b.style.width="50px",b.style.height="50px",b.style.backgroundColor="red",b.style.zIndex=1,b.style.borderColor=
"red",b.style.borderStyle="solid",b.style.borderWidth="0px","Circle"===a.substring(3,9)&&(b.style.borderRadius="999px")):b.style.zIndex=2;document.getElementById("screenElements").appendChild(b);this.addDraggable(a);this.movedElements[a]={};this.savedElements.placedElements=this.movedElements;$("#"+a).css("position","absolute");$("#"+a).css("font-size","30px");$("#"+a).css("color","white");$("#"+a).css("font-family","helvetica");"box"===a.substring(0,3)?(this.savedElements.placedElements[a].width=
"50px",this.savedElements.placedElements[a].height="50px",this.savedElements.placedElements[a]["background-color"]="red",this.savedElements.placedElements[a]["z-index"]=1,this.savedElements.placedElements[a]["border-color"]="red",this.savedElements.placedElements[a]["border-style"]="solid",this.savedElements.placedElements[a]["border-width"]="0px",this.savedElements.placedElements[a].position="absolute",this.savedElements.placedElements[a].top="248px",this.savedElements.placedElements[a].left="130px",
"Circle"===a.substring(3,9)&&(this.savedElements.placedElements[a]["border-radius"]="999px")):"icon"===a?(this.savedElements.placedElements[a].position="absolute",this.savedElements.placedElements[a].top="248px",this.savedElements.placedElements[a].left="130px",this.savedElements.placedElements[a].width="40px",$("#"+a).css("width","40px")):(this.savedElements.placedElements[a]["z-index"]=2,this.savedElements.placedElements[a].color="white",this.savedElements.placedElements[a]["font-family"]="helvetica",
this.savedElements.placedElements[a].position="absolute",this.savedElements.placedElements[a]["font-size"]="30px",this.savedElements.placedElements[a].top="248px",this.savedElements.placedElements[a].left="130px");loadClock();weatherdivs();systemdivs();miscDivs();var b=$(b),c=b.position().left,e=c+b.width();320<e&&(c-=e-320,b.css("left",0<c?c:0),this.savedElements.placedElements[a].left=0<c?c:0);this.saveStorage();action.isUndoingRedoing||action.addAction(["addElement",[a]]);try{document.getElementById(a+
"Picker").style.backgroundColor="#21b9b0",document.getElementById(a+"Picker").style.borderColor="#21b9b0"}catch(d){}},removeFromScreen:function(a,b){0===action.selectedItems.length&&(action.isUndoingRedoing?action.actionQueue[action.queuePosition][1]=[a,action.savedElements.placedElements[a]]:action.addAction(["removeElement",[a,action.savedElements.placedElements[a]]]));var c=document.getElementById("screenElements"),e=document.getElementById(a);c.removeChild(e);delete this.movedElements[a];this.savedElements.placedElements=
this.movedElements;this.saveStorage();this.showIconMenu(constants.toolArray,-1);document.getElementById(a+"Picker")&&(document.getElementById(a+"Picker").style.backgroundColor="#54606e",document.getElementById(a+"Picker").style.borderColor="#54606e");action.selectedItem=""},removeSelectedFromScreen:function(a){if(0===action.selectedItems.length)action.removeFromScreen(action.selectedItem,a);else{a=["removeElement",[]];for(var b=0;b<action.selectedItems.length;b++)a[1].push([action.selectedItems[b],
action.savedElements.placedElements[action.selectedItems[b]]]),action.removeFromScreen(action.selectedItems[b],b===action.selectedItems.length-1);action.addAction(a)}},showIconMenu:function(a,b){$("#icons").empty();$(".elementPanel").scrollTop(0);$("#logo").attr("title","Now Showing: "+action.getTitleForArray(a));for(var c=0;c<a.length;c++){var e=document.createElement("div");e.id="Test";var d=document.createElement("li"),g=a[c].split("~");"element"===g[0]&&$(".elementPanel").is(":visible");d.className=
g[2];d.id=g[0];e.appendChild(d);$("#icons").append(e);-2<b&&(-1===b||c===b)&&(e.id=g[3])}},getTitleForArray:function(a){switch(a){case constants.toolArray:return"Main Menu";case constants.editArray:return"Element Styles Menu";case constants.customTextArray:return"Custom Text Menu";case constants.shadowArray:return"Element Shadow Menu";case constants.boxShadowArray:return"Box Shadow Menu";case constants.boxEditArray:return"Box Styles Menu";case constants.circleEditArray:return"Circle Styles Menu";
case constants.iconArray:return"Icon Styles Menu";case constants.linearGradientArray:return"Linear Gradient Menu";case constants.linearBoxGradientArray:return"Linear Box Gradient Menu";case constants.backgroundArray:return"Background Menu";case constants.transformArray:return"Transform Menu";case constants.affixArray:return"Suffix/Prefix Menu";case constants.borderArray:return"Border Menu"}if(a.toString()===constants.notSoConstantArray.toString())return"Custom Combination Menu"},showEditMenu:function(){""!=
action.selectedItem?action.showProperMenuForId(action.selectedItem):action.showIconMenu(constants.toolArray,-1)},showProperMenuForId:function(a){action.showIconMenu(action.getProperMenuForId(a),-1)},getProperMenuForId:function(a){return"icon"===a?constants.iconArray:"text"===a.substring(0,4)?constants.customTextArray:"boxCircle"===a.substring(0,9)?constants.circleEditArray:"box"===a.substring(0,3)?constants.boxEditArray:constants.editArray},setEditMenuInputsState:function(a,b,c){c||(c="");c="string"===
typeof c?action.getProperMenuForId(c):c;b||(b=constants.editArray.length);if(-1>=a)for(var e=0;e<b&&e<c.length;e++){var d=c[e].split("~");""===constants.preloadWhitelist[d[0]]&&(-2===a&&2>$("#"+d[3]).children().length||-1===a&&1<$("#"+d[3]).children().length)&&$("#"+d[0]).trigger("click")}else-1<a&&a<c.length?$("#"+constants.editArray[0].split("~")[a]).trigger("click"):console.log("That's not a valid index. The state should be between (inclusive) -2 and "+(constants.editArray.length-1))}};
function resizeWall(a,b,c){var e=document.createElement("canvas"),d=e.getContext("2d");e.width=b;e.height=c;d.drawImage(a,0,0,b,c);return e.toDataURL()}var tempWall;function chooseWallSize(a){var b,c;switch(a){case "i5":b=640;c=1136;break;case "i6":b=750;c=1334;break;case "6Plus":b=1080,c=1920}a=new Image;a.onload=function(){var a=resizeWall(this,b,c);localStorage.setItem("wallpaperBlur",null);try{action.setBG(a)}catch(d){}$("#wallSelector").css("display","none")};a.src=tempWall}
function uploadedImage(a){a=a.target.files;var b,c,e;b=0;for(e;e=a[b];b++)c=new FileReader,c.onload=function(a){return function(a){"cgBackground"===action.uploadSelection?($("#wallSelector").css("display","block"),tempWall=a.target.result):"cgOverlay"===action.uploadSelection&&action.setOverlay(a.target.result)}}(e),c.readAsDataURL(e)}
window.onload=function(){action.loadFromStorage();setTimeout(function(){action.showIconMenu(constants.toolArray,-1);$("#clockList").toggle("display");action.createLI(elementPanel.clockElements,"clockList");$("#weatherList").toggle("display");action.createLI(elementPanel.weatherElements,"weatherList");$("#systemList").toggle("display");action.createLI(elementPanel.systemElements,"systemList");$("#miscList").toggle("display");action.createLI(elementPanel.miscElements,"miscList");action.zoomScale=screen.width/
320;switch(window.innerWidth){case 375:action.zoomScale=1.18;break;case 414:action.zoomScale=1.3;break;case 768:action.zoomScale=1.8}},0)};$(".toolPanel").on("click",function(a){action.toolPanel(a)});var fontMoving=!1;$("#font").on("touchmove",function(){fontMoving=!0});$("#font").on("touchend",function(a){1==fontMoving?fontMoving=!1:$(a.target).is("li")?action.setFont(a.target.title):action.cgfont()});$(".iconList").on("click",function(a){""!=a.target.id?action.setNewIcon(a.target.id):$(".iconList").toggle("display")});
$(".elementPanel").on("click",function(a){if(a.target.id&&"H3"===a.target.tagName){action.elementPanel(a.target.id);for(var b=$(".elementPanel").children(),c=0;c<b.length;c++)$(b[c]).attr("id")!=a.target.id&&1<$(action.getElementPanelIdSelector($(b[c]).attr("id"))).children().length&&$(action.getElementPanelIdSelector($(b[c]).attr("id"))).is(":visible")&&action.elementPanel($(b[c]).attr("id"))}else $(a.target).parent().hasClass("subCategory")?(a=$(a.target).attr("data-element"),document.getElementById(a)?
action.removeFromScreen(a,!1):action.addtoScreen(a)):$(a.target).hasClass("categoryTitle")&&!$(a.target).hasClass("slick-center")&&(b=$(a.target).parent().parent().parent(),b.slick("slickGoTo",JSON.parse($(a.target).attr("data-slick-index")),!1),action.setCarouselOpacity(b.attr("id")))});$(".screen").click(function(a){action.isScrollingEdit||(handleScreenClick(a),elPanel.screenClick(),menu.screenClick(a),$(".sidePanel").css("display","none"))});
function handleScreenClick(a){function b(a,b){$("#leftSelector").attr("title","Main Menu");$("#"+a).css("outline","0px solid transparent");b&&(action.showIconMenu(constants.toolArray,-1),action.selectedItem="",0<$("#fList").length&&$("#fList").is(":visible")&&action.cgfont())}""===a.target.id&&""!=action.selectedItem?b(action.selectedItem,!0):"screen"!=a.target.id&&""!=a.target.id&&(a.target.id===action.selectedItem?b(action.selectedItem,!0):(b(action.selectedItem,!1),action.selectedItem=a.target.id,
$("#"+a.target.id).css("outline","1px solid #00c3ff"),""===action.selectedItem&&$(".elementPanel").data("prevHiddenState",$(".elementPanel").is(":visible"))))}var scrollLimitForEditMenu=120;$("#bgInput").on("change",uploadedImage);
function createGrid(a,b){var c,e=$(".grids"),d=e.height(),g=e.width(),f=Math.floor(g/a),h=Math.floor(d/b);for(c=0;c<=f;c++)$("<div />").css({top:0,left:c*b,width:1,height:d}).addClass("gridlines").appendTo(e);for(c=0;c<=h;c++)$("<div />").css({top:c*a,left:0,width:g,height:1}).addClass("gridlines").appendTo(e);$(".gridlines").show()}
$("#gridtips").on("click",function(){void 0===$(".gridlines").css("display")?($(this).attr("title","On"),createGrid(constants.gridSizeLeft,constants.gridSizeTop),localStorage.setItem("gridTips",!0)):($(".grids").empty(),$(this).attr("title","Off"))});$("#snaptips").on("click",function(){"true"==localStorage.snap?(localStorage.snap="false",$(this).attr("title","Off"),$(".dLine").remove()):(localStorage.snap="true",$(this).attr("title","On"))});
"true"==localStorage.snap&&$("#snaptips").attr("title","On");$(".select-menu").click(function(){$(this).toggleClass("menu-on");$(".menulist").toggle()});var widgetArray=["Battery","Analog","Analog2","Forecast","Shadows"],replaceWidget=function(a){var b=action.savedElements.placedElements[a];Object.keys(b).forEach(function(c){var e=b[c];$("#"+a).css(c,e)})},loadexjsfile=function(a,b){var c="http://lockplus.us/creator/widgets/images/"+a+".js",e=document.createElement("script");e.setAttribute("type","text/javascript");e.setAttribute("title","widgetScript");e.setAttribute("src",c);e.async=!0;"undefined"!==e&&document.getElementsByTagName("head")[0].appendChild(e);
e.onload=function(){b?(action.addDraggable(a),replaceWidget(a)):(action.movedElements[a]={type:"widget"},action.savedElements.placedElements=action.movedElements,action.addDraggable(a),$("#"+a).css("top","200"))}},addToPage=function(a){document.getElementById(a)||loadexjsfile(a,!1)},createDisplay=function(){var a=document.createElement("div");a.id="widgetlist";document.body.appendChild(a);$("#widgetlist").on("click",function(a){addToPage(a.target.title);$("#widgetlist").remove()});for(var b=0;b<widgetArray.length;b++){var c=
document.createElement("div");c.className="divimg";var e=document.createElement("img");e.src="http://lockplus.us/creator/widgets/images/"+widgetArray[b]+".jpg";e.title=widgetArray[b];c.appendChild(e);a.appendChild(c)}},showWidgets=function(){menu.toggle();createDisplay()};action.toolPanel=function(a){action.uploadSelection=a.target.id;switch(a.target.id){case "cgOverlay":case "cgBackground":$("#bgInput").click();break;case "overlay":this.showIconMenu(constants.overlayArray,-1);break;case "clearOverlay":$(".screenoverlay").css("background-image","");action.savedElements.overlay="";action.saveStorage();break;case "background":this.showIconMenu(constants.backgroundArray,-1);break;case "openBackground":this.openBackground("original");break;case "backgroundBlur":this.cgSize("backgroundBlur",
constants.backgroundArray[2],"",0,100,"backBlur","backBlur",action.backgroundBlur,!1,!1,"Background Blur");break;case "openBlurryBackground":this.openBackground("blurry");break;case "clearBackground":this.setBG("");break;case "backToTools":this.showIconMenu(constants.toolArray,-1);break;case "clear":action.clearTheme(-1);break;case "save":this.saveTheme();break;case "widget":showWidgets();break;case "load":location.href="http://lockplus.us/creator/load/mobile.php";break;case "element":elPanel.toggle();
menu.toggle();break;case "size":this.cgSize("fontSize",constants.editArray[0],"px",5,300,"font-size","font-size",action.updateSize);break;case "width":this.cgSize("widthSize",constants.editArray[1],"px",1,$(".screen").width(),"width","width",action.updateSize);break;case "height":this.cgSize("heightSize",constants.boxEditArray[1],"px",1,$(".screen").height(),"height","height",action.updateSize);break;case "position":this.cgPosition();break;case "align":this.cgalign();break;case "fonts":this.cgfont();
break;case "uppercase":this.cguppercase();break;case "style":this.cgStyle();break;case "weight":this.cgweight();break;case "shadow":action.showIconMenu(constants.shadowArray,-1);break;case "boxShadow":action.showIconMenu(constants.boxShadowArray,-1);break;case "hShadow":this.cgSize("hShadow",constants.shadowArray[0],"px",-100,100,"hShadow","hShadow",action.updateShadow,!1,!1,"Horizontal");break;case "vShadow":this.cgSize("vShadow",constants.shadowArray[1],"px",-100,100,"vShadow","vShadow",action.updateShadow,
!1,!1,"Vertical");break;case "blur":this.cgSize("blur",constants.shadowArray[2],"px",0,50,"blur","blur",action.updateShadow,!1,!1,"Blur Radius");break;case "radius":this.cgSize("radiusSize",constants.boxEditArray[3],"px",0,$("#"+action.selectedItem).width()/2,"border-radius","border-radius",action.updateSize,!1,!1,"Box Radius");break;case "transform":action.showIconMenu(constants.transformArray,-1);break;case "rotation":this.cgSize("rotationAngle",constants.transformArray[0],"deg",0,360,"rotate",
"rotate",action.updateTransform,!1,!1,"Rotation Angle");break;case "skewX":this.cgSize("skewXAngle",constants.transformArray[1],"deg",0,360,"skewX","skewX",action.updateTransform,!1,!1,"X Skew Angle");break;case "skewY":this.cgSize("skewYAngle",constants.transformArray[2],"deg",0,360,"skewY","skewY",action.updateTransform,!1,!1,"Y Skew Angle");break;case "clearTransform":action.updateTransform("","","","","clear");break;case "shadowColor":this.cgShadowColor();break;case "clearShadow":this.updateShadow("",
"","","","clear");break;case "backToEdit":action.showEditMenu();break;case "boxhShadow":this.cgSize("boxhShadow",constants.boxShadowArray[0],"px",-100,100,"boxhShadow","boxhShadow",action.updateShadow,!1,!1,"Horizontal");break;case "boxvShadow":this.cgSize("boxvShadow",constants.boxShadowArray[1],"px",-100,100,"boxvShadow","boxvShadow",action.updateShadow,!1,!1,"Vertical");break;case "boxblur":this.cgSize("boxblur",constants.boxShadowArray[2],"px",0,50,"boxblur","boxblur",action.updateShadow,!1,!1,
"Blur Radius");break;case "boxshadowColor":this.cgShadowColor(!0);break;case "boxclearShadow":this.updateShadow("","","","","clear");break;case "color":this.cgcolor(!1,"color","colorDiv");break;case "boxColor":this.cgcolor(!1,"background-color","boxColorDiv");break;case "customText":this.cgCustomText();break;case "delete":action["delete"]();break;case "iconsize":this.cgSize("iconSize",constants.iconArray[0],"px",5,$(".screen").width(),"width","width",action.updateSize);break;case "changeicon":this.populateIcons();
break;case "affixes":this.showIconMenu(constants.affixArray,-1);break;case "customPrefix":this.cgAffix("prefix");break;case "customSuffix":this.cgAffix("suffix");break;case "clearAffixes":this.cgAffix("clear");break;case "border":this.showIconMenu(constants.borderArray,-1);break;case "borderStyle":this.cgBorderStyle();break;case "borderWidth":this.cgSize("borderWidth",constants.borderArray[1],"px",0,200,"border-width","borderWidth",action.updateSize);break;case "border-color":this.cgcolor(!1,"border-color",
"border-colorDiv");break;case "clearBorder":this.setCss(action.selectedItem,"border","");break;case "posSystem":this.cgPosSystem();break;case "multiPos":this.cgMultiPosition();break;case "linearBoxGradient":this.showIconMenu(constants.linearBoxGradientArray,-1);break;case "linearGradient":this.showIconMenu(constants.linearGradientArray,-1);break;case "gradientType":this.cgGradientPurpose();break;case "linearGradientAngle":this.cgSize("rotateLinearGradient",constants.linearGradientArray[1],"deg",0,
360,"rotate","rotate",action.updateGradient,!1,!1,"Rotate Gradient");break;case "linearGradientStartColor":this.cgLinearGradientColor(constants.linearGradientArray[2],"color~0.5");break;case "linearGradientStopColorOne":this.cgLinearGradientColor(constants.linearGradientArray[3],"color~1");this.cgSize("linGradientStopOnePercent",constants.linearGradientArray[3],"%",0,100,"pos~1","pos~1",action.updateGradient,!1,!1,"Stop 1 Distance");break;case "linearGradientStopColorTwo":this.cgLinearGradientColor(constants.linearGradientArray[4],
"color~2");this.cgSize("linGradientStopTwoPercent",constants.linearGradientArray[4],"%",0,100,"pos~2","pos~2",action.updateGradient,!1,!1,"Stop 2 Distance");break;case "clearGradient":this.updateGradient("","","","","clear");default:""}null!=action.selectedItem&&null!=a.target.id.toLowerCase().match(/gradient/gmi)&&"lin"!=document.getElementById(action.selectedItem).style.background.substring(0,3)&&"linearGradient"!=id&&"linearBoxGradient"!=id&&"linearTextGradientDiv"!=id&&action.setCss(action.selectedItem,
"background","linear-gradient(rgb(255,0,0),rgb(255,255,0) 50%,rgb(0,0,255) 90%)")};(function(){function a(b,c,e){var d=a.resolve(b);if(null==d)throw e=e||b,c=c||"root",d=Error('Failed to require "'+e+'" from "'+c+'"'),d.path=e,d.parent=c,d.require=!0,d;c=a.modules[d];c._resolving||c.exports||(e={exports:{}},e.client=e.component=!0,c._resolving=!0,c.call(this,e.exports,a.relative(d),e),delete c._resolving,c.exports=e.exports);return c.exports}a.modules={};a.aliases={};a.resolve=function(b){"/"===b.charAt(0)&&(b=b.slice(1));for(var c=[b,b+".js",b+".json",b+"/index.js",b+"/index.json"],
e=0;e<c.length;e++){b=c[e];if(a.modules.hasOwnProperty(b))return b;if(a.aliases.hasOwnProperty(b))return a.aliases[b]}};a.normalize=function(a,c){var e=[];if("."!=c.charAt(0))return c;a=a.split("/");c=c.split("/");for(var d=0;d<c.length;++d)".."==c[d]?a.pop():"."!=c[d]&&""!=c[d]&&e.push(c[d]);return a.concat(e).join("/")};a.register=function(b,c){a.modules[b]=c};a.alias=function(b,c){if(!a.modules.hasOwnProperty(b))throw Error('Failed to alias "'+b+'", it does not exist');a.aliases[c]=b};a.relative=
function(b){function c(d){var e=c.resolve(d);return a(e,b,d)}var e=a.normalize(b,"..");c.resolve=function(c){var g=c.charAt(0);if("/"==g)return c.slice(1);if("."==g)return a.normalize(e,c);var g=b.split("/"),f;a:{for(f=g.length;f--;)if("deps"===g[f])break a;f=-1}(f+=1)||(f=0);return c=g.slice(0,f+1).join("/")+"/deps/"+c};c.exists=function(b){return a.modules.hasOwnProperty(c.resolve(b))};return c};a.register("component-event/index.js",function(a,c,e){var d=window.addEventListener?"addEventListener":
"attachEvent",g=window.removeEventListener?"removeEventListener":"detachEvent",f="addEventListener"!==d?"on":"";a.bind=function(a,b,c,e){a[d](f+b,c,e||!1);return c};a.unbind=function(a,b,c,d){a[g](f+b,c,d||!1);return c}});a.register("component-query/index.js",function(a,c,e){function d(a,b){return b.querySelector(a)}a=e.exports=function(a,b){b=b||document;return d(a,b)};a.all=function(a,b){b=b||document;return b.querySelectorAll(a)};a.engine=function(c){if(!c.one)throw Error(".one callback required");
if(!c.all)throw Error(".all callback required");d=c.one;a.all=c.all;return a}});a.register("component-matches-selector/index.js",function(a,c,e){var d=c("query");a=Element.prototype;var g=a.matches||a.webkitMatchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector;e.exports=function(a,b){if(g)return g.call(a,b);for(var c=d.all(b,a.parentNode),e=0;e<c.length;++e)if(c[e]==a)return!0;return!1}});a.register("discore-closest/index.js",function(a,c,e){var d=c("matches-selector");e.exports=
function(a,b,c,e){a=c?{parentNode:a}:a;for(e=e||document;(a=a.parentNode)&&a!==document;){if(d(a,b))return a;if(a===e)break}}});a.register("component-delegate/index.js",function(a,c,e){var d=c("closest"),g=c("event");a.bind=function(a,b,c,e,m){return g.bind(a,c,function(c){c.delegateTarget=d(c.target||c.srcElement,b,!0,a);c.delegateTarget&&e.call(a,c)},m)};a.unbind=function(a,b,c,d){g.unbind(a,b,c,d)}});a.register("component-events/index.js",function(a,c,e){function d(a,b){if(!(this instanceof d))return new d(a,
b);if(!a)throw Error("element required");if(!b)throw Error("object required");this.el=a;this.obj=b;this._events={}}function g(a){a=a.split(/ +/);return{name:a.shift(),selector:a.join(" ")}}var f=c("event"),h=c("delegate");e.exports=d;d.prototype.sub=function(a,b,c){this._events[a]=this._events[a]||{};this._events[a][b]=c};d.prototype.bind=function(a,b){function c(){var a=[].slice.call(arguments).concat(t);p[b].apply(p,a)}var d=g(a),e=this.el,p=this.obj,r=d.name;b=b||"on"+r;var t=[].slice.call(arguments,
2);d.selector?c=h.bind(e,d.selector,r,c):f.bind(e,r,c);this.sub(r,b,c);return c};d.prototype.unbind=function(a,b){if(0==arguments.length)return this.unbindAll();if(1==arguments.length)return this.unbindAllOf(a);var c=this._events[a];c&&(c=c[b])&&f.unbind(this.el,a,c)};d.prototype.unbindAll=function(){for(var a in this._events)this.unbindAllOf(a)};d.prototype.unbindAllOf=function(a){var b=this._events[a];if(b)for(var c in b)this.unbind(a,c)}});a.register("component-indexof/index.js",function(a,c,e){e.exports=
function(a,b){if(a.indexOf)return a.indexOf(b);for(var c=0;c<a.length;++c)if(a[c]===b)return c;return-1}});a.register("component-classes/index.js",function(a,c,e){function d(a){if(!a)throw Error("A DOM element reference is required");this.el=a;this.list=a.classList}var g=c("indexof"),f=/\s+/,h=Object.prototype.toString;e.exports=function(a){return new d(a)};d.prototype.add=function(a){if(this.list)return this.list.add(a),this;var b=this.array();~g(b,a)||b.push(a);this.el.className=b.join(" ");return this};
d.prototype.remove=function(a){if("[object RegExp]"==h.call(a))return this.removeMatching(a);if(this.list)return this.list.remove(a),this;var b=this.array();a=g(b,a);~a&&b.splice(a,1);this.el.className=b.join(" ");return this};d.prototype.removeMatching=function(a){for(var b=this.array(),c=0;c<b.length;c++)a.test(b[c])&&this.remove(b[c]);return this};d.prototype.toggle=function(a,b){if(this.list)return"undefined"!==typeof b?b!==this.list.toggle(a,b)&&this.list.toggle(a):this.list.toggle(a),this;"undefined"!==
typeof b?b?this.add(a):this.remove(a):this.has(a)?this.remove(a):this.add(a);return this};d.prototype.array=function(){var a=this.el.className.replace(/^\s+|\s+$/g,"").split(f);""===a[0]&&a.shift();return a};d.prototype.has=d.prototype.contains=function(a){return this.list?this.list.contains(a):!!~g(this.array(),a)}});a.register("component-emitter/index.js",function(a,c,e){function d(a){if(a){for(var b in d.prototype)a[b]=d.prototype[b];return a}}e.exports=d;d.prototype.on=d.prototype.addEventListener=
function(a,b){this._callbacks=this._callbacks||{};(this._callbacks[a]=this._callbacks[a]||[]).push(b);return this};d.prototype.once=function(a,b){function c(){d.off(a,c);b.apply(this,arguments)}var d=this;this._callbacks=this._callbacks||{};c.fn=b;this.on(a,c);return this};d.prototype.off=d.prototype.removeListener=d.prototype.removeAllListeners=d.prototype.removeEventListener=function(a,b){this._callbacks=this._callbacks||{};if(0==arguments.length)return this._callbacks={},this;var c=this._callbacks[a];
if(!c)return this;if(1==arguments.length)return delete this._callbacks[a],this;for(var d,e=0;e<c.length;e++)if(d=c[e],d===b||d.fn===b){c.splice(e,1);break}return this};d.prototype.emit=function(a){this._callbacks=this._callbacks||{};var b=[].slice.call(arguments,1),c=this._callbacks[a];if(c)for(var c=c.slice(0),d=0,e=c.length;d<e;++d)c[d].apply(this,b);return this};d.prototype.listeners=function(a){this._callbacks=this._callbacks||{};return this._callbacks[a]||[]};d.prototype.hasListeners=function(a){return!!this.listeners(a).length}});
a.register("ui-component-mouse/index.js",function(a,c,e){function d(a,b){this.obj=b||{};this.el=a}a=c("emitter");var g=c("event");e.exports=function(a,b){return new d(a,b)};a(d.prototype);d.prototype.bind=function(){function a(e){c.onmouseup&&c.onmouseup(e);g.unbind(document,"mousemove",b);g.unbind(document,"mouseup",a);d.emit("up",e)}function b(a){c.onmousemove&&c.onmousemove(a);d.emit("move",a)}var c=this.obj,d=this;d.down=function(e){c.onmousedown&&c.onmousedown(e);g.bind(document,"mouseup",a);
g.bind(document,"mousemove",b);d.emit("down",e)};g.bind(this.el,"mousedown",d.down);return this};d.prototype.unbind=function(){g.unbind(this.el,"mousedown",this.down);this.down=null}});a.register("abpetkov-percentage-calc/percentage-calc.js",function(a,c,e){a.isNumber=function(a){return"number"===typeof a?!0:!1};a.of=function(c,e){if(a.isNumber(c)&&a.isNumber(e))return c/100*e};a.from=function(c,e){if(a.isNumber(c)&&a.isNumber(e))return c/e*100}});a.register("abpetkov-closest-num/closest-num.js",
function(a,c,e){a.find=function(a,b){var c=null,e=null,k=b[0];for(i=0;i<b.length;i++)c=Math.abs(a-k),e=Math.abs(a-b[i]),e<c&&(k=b[i]);return k}});a.register("vesln-super/lib/super.js",function(a,c,e){var d=Array.prototype.slice;a=e.exports=function(){var c=d.call(arguments);if(c.length){if("function"!==typeof c[0])return a.merge(c);a.inherits.apply(null,c)}};a.extend=function(c,d){var e=this,k=function(){return e.apply(this,arguments)};a.merge([k,this]);a.inherits(k,this);c&&a.merge([k.prototype,
c]);d&&a.merge([k,d]);k.extend=this.extend;return k};a.inherits=function(a,b){a.super_=b;Object.create?a.prototype=Object.create(b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}):(a.prototype=new b,a.prototype.constructor=a)};a.merge=function(a){for(var b=2===a.length?a.shift():{},c=null,d=0,e=a.length;d<e;d++){var c=a[d],m;for(m in c)c.hasOwnProperty(m)&&(b[m]=c[m])}return b}});a.register("powerange/lib/powerange.js",function(a,c,e){c("./main");var d=c("./horizontal"),
g=c("./vertical"),f={callback:function(){},decimal:!1,disable:!1,disableOpacity:.5,hideRange:!1,klass:"",min:0,max:100,start:null,step:null,vertical:!1};e.exports=function(a,b){b=b||{};for(var c in f)null==b[c]&&(b[c]=f[c]);return b.vertical?new g(a,b):new d(a,b)}});a.register("powerange/lib/main.js",function(a,c,e){function d(a,b){if(!(this instanceof d))return new d(a,b);this.element=a;this.options=b||{};this.slider=this.create("span","range-bar");null!==this.element&&"text"===this.element.type&&
this.init()}var g=c("mouse"),f=c("events"),h=c("classes"),k=c("percentage-calc");e.exports=d;d.prototype.bindEvents=function(){this.handle=this.slider.querySelector(".range-handle");this.touch=f(this.handle,this);this.touch.bind("touchstart","onmousedown");this.touch.bind("touchmove","onmousemove");this.touch.bind("touchend","onmouseup");this.mouse=g(this.handle,this);this.mouse.bind()};d.prototype.hide=function(){this.element.style.display="none"};d.prototype.append=function(){var a=this.generate();
this.insertAfter(this.element,a)};d.prototype.generate=function(){var a={handle:{type:"span",selector:"range-handle"},min:{type:"span",selector:"range-min"},max:{type:"span",selector:"range-max"},quantity:{type:"span",selector:"range-quantity"}},b;for(b in a)if(a.hasOwnProperty(b)){var c=this.create(a[b].type,a[b].selector);this.slider.appendChild(c)}return this.slider};d.prototype.create=function(a,b){var c=document.createElement(a);c.className=b;return c};d.prototype.insertAfter=function(a,b){a.parentNode.insertBefore(b,
a.nextSibling)};d.prototype.extraClass=function(a){this.options.klass&&h(this.slider).add(a)};d.prototype.setRange=function(a,b){"number"!==typeof a||"number"!==typeof b||this.options.hideRange||(this.slider.querySelector(".range-min").innerHTML=a,this.slider.querySelector(".range-max").innerHTML=b)};d.prototype.setValue=function(a,b){var c=k.from(parseFloat(a),b),c=k.of(c,this.options.max-this.options.min)+this.options.min,d=!1,c=this.options.decimal?Math.round(100*c)/100:Math.round(c),d=this.element.value!=
c?!0:!1;this.element.value=c;this.options.callback();d&&this.changeEvent()};d.prototype.step=function(a,b){var c=a-b,d=k.from(this.checkStep(this.options.step),this.options.max-this.options.min),d=k.of(d,c),e=[];for(i=0;i<=c;i+=d)e.push(i);return this.steps=e};d.prototype.checkValues=function(a){a<this.options.min&&(this.options.start=this.options.min);a>this.options.max&&(this.options.start=this.options.max);this.options.min>=this.options.max&&(this.options.min=this.options.max)};d.prototype.checkStep=
function(a){0>a&&(a=Math.abs(a));this.options.step=a;return this.options.step};d.prototype.disable=function(){if(this.options.min==this.options.max||this.options.min>this.options.max||this.options.disable)this.mouse.unbind(),this.touch.unbind(),this.slider.style.opacity=this.options.disableOpacity,h(this.handle).add("range-disabled")};d.prototype.unselectable=function(a,b){h(this.slider).has("unselectable")||!0!==b?h(this.slider).remove("unselectable"):h(this.slider).add("unselectable")};d.prototype.changeEvent=
function(a){"function"!==typeof Event&&document.fireEvent?this.element.fireEvent("onchange"):(a=document.createEvent("HTMLEvents"),a.initEvent("change",!1,!0),this.element.dispatchEvent(a))};d.prototype.init=function(){this.hide();this.append();this.bindEvents();this.extraClass(this.options.klass);this.checkValues(this.options.start);this.setRange(this.options.min,this.options.max);this.disable()}});a.register("powerange/lib/horizontal.js",function(a,c,e){function d(){h.apply(this,arguments);this.options.step&&
this.step(this.slider.offsetWidth,this.handle.offsetWidth);this.setStart(this.options.start)}a=c("super");var g=c("closest-num"),f=c("percentage-calc"),h=c("./main");e.exports=d;a(d,h);d.prototype.setStart=function(a){a=f.from((null===a?this.options.min:a)-this.options.min,this.options.max-this.options.min)||0;a=f.of(a,this.slider.offsetWidth-this.handle.offsetWidth);a=this.options.step?g.find(a,this.steps):a;this.setPosition(a);this.setValue(this.handle.style.left,this.slider.offsetWidth-this.handle.offsetWidth)};
d.prototype.setPosition=function(a){this.handle.style.left=a+"px";this.slider.querySelector(".range-quantity").style.width=a+"px"};d.prototype.onmousedown=function(a){a.touches&&(a=a.touches[0]);this.startX=a.clientX;this.handleOffsetX=this.handle.offsetLeft;this.restrictHandleX=this.slider.offsetWidth-this.handle.offsetWidth;this.unselectable(this.slider,!0)};d.prototype.onmousemove=function(a){a.preventDefault();a.touches&&(a=a.touches[0]);a=this.handleOffsetX+a.clientX-this.startX;var b=this.steps?
g.find(a,this.steps):a;0>=a?this.setPosition(0):a>=this.restrictHandleX?this.setPosition(this.restrictHandleX):this.setPosition(b);this.setValue(this.handle.style.left,this.slider.offsetWidth-this.handle.offsetWidth)};d.prototype.onmouseup=function(a){this.unselectable(this.slider,!1)}});a.register("powerange/lib/vertical.js",function(a,c,e){function d(){k.apply(this,arguments);g(this.slider).add("vertical");this.options.step&&this.step(this.slider.offsetHeight,this.handle.offsetHeight);this.setStart(this.options.start)}
a=c("super");var g=c("classes"),f=c("closest-num"),h=c("percentage-calc"),k=c("./main");e.exports=d;a(d,k);d.prototype.setStart=function(a){a=h.from((null===a?this.options.min:a)-this.options.min,this.options.max-this.options.min)||0;a=h.of(a,this.slider.offsetHeight-this.handle.offsetHeight);a=this.options.step?f.find(a,this.steps):a;this.setPosition(a);this.setValue(this.handle.style.bottom,this.slider.offsetHeight-this.handle.offsetHeight)};d.prototype.setPosition=function(a){this.handle.style.bottom=
a+"px";this.slider.querySelector(".range-quantity").style.height=a+"px"};d.prototype.onmousedown=function(a){a.touches&&(a=a.touches[0]);this.startY=a.clientY;this.handleOffsetY=this.slider.offsetHeight-this.handle.offsetHeight-this.handle.offsetTop;this.restrictHandleY=this.slider.offsetHeight-this.handle.offsetHeight;this.unselectable(this.slider,!0)};d.prototype.onmousemove=function(a){a.preventDefault();a.touches&&(a=a.touches[0]);a=this.handleOffsetY+this.startY-a.clientY;var b=this.steps?f.find(a,
this.steps):a;0>=a?this.setPosition(0):a>=this.restrictHandleY?this.setPosition(this.restrictHandleY):this.setPosition(b);this.setValue(this.handle.style.bottom,this.slider.offsetHeight-this.handle.offsetHeight)};d.prototype.onmouseup=function(a){this.unselectable(this.slider,!1)}});a.alias("component-events/index.js","powerange/deps/events/index.js");a.alias("component-events/index.js","events/index.js");a.alias("component-event/index.js","component-events/deps/event/index.js");a.alias("component-delegate/index.js",
"component-events/deps/delegate/index.js");a.alias("discore-closest/index.js","component-delegate/deps/closest/index.js");a.alias("discore-closest/index.js","component-delegate/deps/closest/index.js");a.alias("component-matches-selector/index.js","discore-closest/deps/matches-selector/index.js");a.alias("component-query/index.js","component-matches-selector/deps/query/index.js");a.alias("discore-closest/index.js","discore-closest/index.js");a.alias("component-event/index.js","component-delegate/deps/event/index.js");
a.alias("component-classes/index.js","powerange/deps/classes/index.js");a.alias("component-classes/index.js","classes/index.js");a.alias("component-indexof/index.js","component-classes/deps/indexof/index.js");a.alias("ui-component-mouse/index.js","powerange/deps/mouse/index.js");a.alias("ui-component-mouse/index.js","mouse/index.js");a.alias("component-emitter/index.js","ui-component-mouse/deps/emitter/index.js");a.alias("component-event/index.js","ui-component-mouse/deps/event/index.js");a.alias("abpetkov-percentage-calc/percentage-calc.js",
"powerange/deps/percentage-calc/percentage-calc.js");a.alias("abpetkov-percentage-calc/percentage-calc.js","powerange/deps/percentage-calc/index.js");a.alias("abpetkov-percentage-calc/percentage-calc.js","percentage-calc/index.js");a.alias("abpetkov-percentage-calc/percentage-calc.js","abpetkov-percentage-calc/index.js");a.alias("abpetkov-closest-num/closest-num.js","powerange/deps/closest-num/closest-num.js");a.alias("abpetkov-closest-num/closest-num.js","powerange/deps/closest-num/index.js");a.alias("abpetkov-closest-num/closest-num.js",
"closest-num/index.js");a.alias("abpetkov-closest-num/closest-num.js","abpetkov-closest-num/index.js");a.alias("vesln-super/lib/super.js","powerange/deps/super/lib/super.js");a.alias("vesln-super/lib/super.js","powerange/deps/super/index.js");a.alias("vesln-super/lib/super.js","super/index.js");a.alias("vesln-super/lib/super.js","vesln-super/index.js");a.alias("powerange/lib/powerange.js","powerange/index.js");"object"==typeof exports?module.exports=a("powerange"):"function"==typeof define&&define.amd?
define([],function(){return a("powerange")}):this.Powerange=a("powerange")})();var menu={screenClick:function(a){$("#externalMenu").remove();$("#widgetlist").remove();""!==action.selectedItem?($("#bottomMenu").remove(),menu.bottomMenu(),$("#editDragger").css("display","block"),$("#bottomMenu").hasClass(action.selectedItem+"Menu")?$("#bottomMenu").css("display","block"):($("#editDragger").css("display","block"),$("#bottomMenu").remove(),menu.bottomMenu())):($("#editDragger").css("display","none"),$("#bottomMenu").remove())},toggle:function(){"none"===$(".sidePanel").css("display")?
$(".sidePanel").css("display","block"):$(".sidePanel").css("display","none")},button:function(){var a=$('<div id="roundmenu"></div>');$("#container").append(a);a.draggable({stop:function(a,c){var e=$("#roundmenu").height()/2,d=$("#roundmenu").width()/2,g=c.position.top+e,f=c.position.left+d,h=$("#roundmenu").position().left,k=$("#roundmenu").position().top,l=screen.width-f,h=screen.width-d;f<l&&(l=f,h=0-d);screen.height-g<l&&(l=screen.height-g,h=$("#roundmenu").position().left,k=screen.height-e);
g<l&&(h=$("#roundmenu").position().left,k=0-e);$("#roundmenu").animate({left:h,top:k},700,"easeOutElastic")}});a.click(function(){menu.toggle()})},inputClick:function(a){var b=a.parent().find("input").val(),c=a.parent().find("input")[0].id.replace("manual",""),b="+"===a.text()?parseFloat(b)+1:0<b?parseFloat(b)-1:0;320<b&&(b=320);a.parent().find("input").val(b);menu.adjustManual(c,b)},updatePosition:function(a,b){$(".topInput").val(b);$(".leftInput").val(a)},createButtons:function(a,b){var c=document.createElement("div");
c.innerHTML="Open";c.className="openButtons";"color"===b||"boxColor"===b?c.onclick=function(){"box"===action.selectedItem.substring(0,3)?action.cgcolor(!1,"background-color","BMboxColor"):action.cgcolor(!1,"color","bottomMenu")}:"fonts"===b?c.onclick=function(){action.cgfont()}:"delete"===b?(c.innerHTML="Delete",c.onclick=function(){action.removeItemFromScreen(action.selectedItem);$("#bottomMenu").remove();$("#accordion").find("li[title='"+action.selectedItem+"']").removeClass()}):"changeicon"===
b?(c.innerHTML="Change Icon",c.onclick=function(){action.populateIcons()}):"shadow"===b&&(c.innerHTML="Open Shadow",c.onclick=function(){menu.externalMenu("text-shadow",3,["x","y","blur"],action.selectedItem);$("#bottomMenu").remove();$("#editDragger").css("display","none")});document.getElementById(a).appendChild(c)},createPositionInputs:function(a,b){if("top-left"===b)var c=b.split("-")[0],e=b.split("-")[1];var d=$("#"+action.selectedItem).css(c).replace(/[^-\d\.]/g,""),g=$("#"+action.selectedItem).css(e).replace(/[^-\d\.]/g,
""),f=document.createElement("div"),h=document.createElement("div"),k=document.createElement("input"),l=document.createElement("div"),m=document.createElement("div"),n=document.createElement("input"),q=document.createElement("div"),p=document.createElement("div"),r=document.createElement("div"),t=document.createElement("div");f.className="inputContainer";h.className="inputContainer2";p.innerHTML="top";p.className="topLabel";r.innerHTML="left";r.className="leftLabel";k.type="text";k.value=Math.round(d);
k.id="manual"+a;k.className="manualInput topInput";n.type="text";n.value=Math.round(g);n.id="manual"+a;n.className="manualInput leftInput";l.className="incs inButton";l.onclick=function(){menu.inputClickTop($(this),c)};l.innerHTML="+";q.className="incs inButton";q.onclick=function(){menu.inputClickTop($(this),e)};q.innerHTML="+";m.className="decs inButton";m.onclick=function(){menu.inputClickTop($(this),c)};m.innerHTML="-";t.className="decs inButton";t.onclick=function(){menu.inputClickTop($(this),
e)};t.innerHTML="-";f.appendChild(p);f.appendChild(l);f.appendChild(m);f.appendChild(k);h.appendChild(r);h.appendChild(q);h.appendChild(t);h.appendChild(n);document.getElementById(a).appendChild(f);document.getElementById(a).appendChild(h)},inputClickTop:function(a,b){var c=a.parent().find("input").val(),c="+"===a.text()?parseFloat(c)+1:0<c?parseFloat(c)-1:0;568<c&&(c=568);a.parent().find("input").val(c);this.adjust(b,c,!0)},createRange:function(a,b){var c=document.createElement("div"),e=document.createElement("input"),
d=document.createElement("div");c.className="slider-wrapper";c.id="sliderContainer"+a;document.getElementById(a).appendChild(c);e.type="text";e.className=a+"js-opacity";e.id="range"+a;document.getElementById("sliderContainer"+a).appendChild(e);d.className="powerranger js-change-opacity";document.getElementById("sliderContainer"+a).appendChild(d);c=document.querySelector("."+a+"js-opacity");d="BMiconsize"==a?$("#iconImg").css(b).replace(/[^-\d\.]/g,""):$("#"+action.selectedItem).css(b).replace(/[^-\d\.]/g,
"");new Powerange(c,{callback:function(){menu.adjust(a)},decimal:!1,min:0,max:320,start:d,hideRange:!0});c=document.createElement("div");c.className="inputContainer";e=document.createElement("input");e.type="text";e.value=d;e.id="manual"+a;e.className="manualInput";var d=document.createElement("div"),g=document.createElement("div");d.className="incs inButton";d.onclick=function(){menu.inputClick($(this))};d.innerHTML="+";g.className="decs inButton";g.onclick=function(){menu.inputClick($(this))};g.innerHTML=
"-";e.onchange=function(){menu.adjustManual(a,this.value)};c.appendChild(d);c.appendChild(g);c.appendChild(e);document.getElementById(a).appendChild(c)},adjustManual:function(a,b){this.adjust(a,String(b),!0)},adjust:function(a,b,c){c||$("#manual"+a).val(document.getElementById("range"+a).value);if(0<action.selectedItem.length)if(b)switch(a){case "BMsize":action.setCss(action.selectedItem,"font-size",b+"px");break;case "BMwidth":action.setCss(action.selectedItem,"width",b+"px");break;case "BMheight":action.setCss(action.selectedItem,
"height",b+"px");break;case "BMradius":action.setCss(action.selectedItem,"border-radius",b+"px");break;case "BMiconsize":action.setCss(action.selectedItem,"width",b+"px");$("#iconImg").css("width",b+"px");break;case "BMborder":action.setCss(action.selectedItem,"border-width",b+"px");break;case "top":action.setCss(action.selectedItem,"top",b+"px");break;case "left":action.setCss(action.selectedItem,"left",b+"px");break;default:"null"}else b=document.getElementById("range"+a).value,"BMsize"===a?action.setCss(action.selectedItem,
"font-size",b+"px"):"BMwidth"===a?action.setCss(action.selectedItem,"width",b+"px"):"BMheight"===a?action.setCss(action.selectedItem,"height",b+"px"):"BMtop"===a?action.setCss(action.selectedItem,"top",b+"px"):"BMradius"===a?action.setCss(action.selectedItem,"border-radius",b+"px"):"BMiconsize"===a&&(action.setCss(action.selectedItem,"width",b+"px"),$("#iconImg").css("width",b+"px"))},createTriButtons:function(a,b,c,e){var d=document.createElement("div"),g=document.createElement("div"),f=document.createElement("div"),
h=document.createElement("div");d.className="triContain";g.className="firstTri";g.innerHTML=b;f.className="secondTri";f.innerHTML=c;h.className="thirdTri";h.innerHTML=e;"BMalign"===a?(g.onclick=function(){$("#"+action.selectedItem).css("text-align","left");action.savedElements.placedElements[action.selectedItem]["text-align"]="left";action.saveStorage()},f.onclick=function(){$("#"+action.selectedItem).css("text-align","center");action.savedElements.placedElements[action.selectedItem]["text-align"]=
"center";action.saveStorage()},h.onclick=function(){$("#"+action.selectedItem).css("text-align","right");action.savedElements.placedElements[action.selectedItem]["text-align"]="right";action.saveStorage()}):"BMuppercase"===a?(g.onclick=function(){$("#"+action.selectedItem).css("text-transform","uppercase");action.savedElements.placedElements[action.selectedItem]["text-transform"]="uppercase";action.saveStorage()},f.onclick=function(){$("#"+action.selectedItem).css("text-transform","capitalize");action.savedElements.placedElements[action.selectedItem]["text-transform"]=
"capitalize";action.saveStorage()},h.onclick=function(){$("#"+action.selectedItem).css("text-transform","lowercase");action.savedElements.placedElements[action.selectedItem]["text-transform"]="lowercase";action.saveStorage()}):"BMstyle"===a&&(g.onclick=function(){$("#"+action.selectedItem).css("font-style","italic");action.savedElements.placedElements[action.selectedItem]["font-style"]="italic";action.saveStorage()},f.onclick=function(){$("#"+action.selectedItem).css("font-style","oblique");action.savedElements.placedElements[action.selectedItem]["font-style"]=
"oblique";action.saveStorage()},h.onclick=function(){$("#"+action.selectedItem).css("font-style","initial");action.savedElements.placedElements[action.selectedItem]["font-style"]="initial";action.saveStorage()});d.appendChild(g);d.appendChild(f);d.appendChild(h);document.getElementById(a).appendChild(d)},createBorderButton:function(a){var b=document.createElement("div");b.innerHTML="Color";b.className="borderButton";b.onclick=function(){action.cgcolor(!1,"border-color","BMborder")};document.getElementById(a).appendChild(b);
b=document.createElement("div");b.className="inputContainer2";var c=document.createElement("input");c.type="text";c.value=$("#"+action.selectedItem).css("border-width");c.id="manual"+a;c.className="manualInput";var e=document.createElement("div"),d=document.createElement("div");e.className="incs inButton";e.onclick=function(){menu.inputClick($(this))};e.innerHTML="+";d.className="decs inButton";d.onclick=function(){menu.inputClick($(this))};d.innerHTML="-";c.onchange=function(){menu.adjustManual(name,
this.value)};b.appendChild(e);b.appendChild(d);b.appendChild(c);document.getElementById(a).appendChild(b)},createWhat:function(a,b,c){switch(a){case "size":case "width":menu.createRange(c,b);break;case "height":menu.createRange(c,b);break;case "radius":menu.createRange(c,b);break;case "iconsize":menu.createRange(c,b);break;case "position":menu.createPositionInputs(c,b);break;case "boxColor":case "color":menu.createButtons(c,a);break;case "changeicon":menu.createButtons(c,a);break;case "fonts":menu.createButtons(c,
a);break;case "shadow":menu.createButtons(c,a);break;case "align":menu.createTriButtons(c,"left","center","right");break;case "delete":menu.createButtons(c,a);break;case "uppercase":menu.createTriButtons(c,"Upper","Cap","Lower");break;case "style":menu.createTriButtons(c,"Italic","Oblique","Initial");break;case "border":menu.createBorderButton(c);break;default:"null"}},createList:function(a,b){var c=document.getElementById("bottomMenuUL"),e=document.createElement("li"),d=document.createElement("div");
d.innerHTML=a;d.className="liText";e.id="BM"+a;e.className="bottomMenuLI";e.appendChild(d);c.appendChild(e);menu.createWhat(a,b,e.id)},createEdits:function(){var a;if("box"===action.selectedItem.substring(0,3))for(var b=0;b<constants.boxEditArray.length;b++)a=constants.boxEditArray[b].split("~")[0],"boxShadow"!==a&&"transform"!==a&&"linearBoxGradient"!==a&&menu.createList(constants.boxEditArray[b].split("~")[0],constants.boxEditArray[b].split("~")[4]);else if("icon"===action.selectedItem)for(b=0;b<
constants.iconArray.length;b++)a=constants.iconArray[b].split("~")[0],"transform"!==a&&menu.createList(constants.iconArray[b].split("~")[0],constants.iconArray[b].split("~")[4]);else for(b=0;b<constants.editArray.length;b++)a=constants.editArray[b].split("~")[0],"transform"!==a&&"weight"!==a&&"affixes"!==a&&"linearGradient"!==a&&menu.createList(constants.editArray[b].split("~")[0],constants.editArray[b].split("~")[4])},bottomMenu:function(){var a=document.createElement("div"),b=document.createElement("div");
a.id="bottomMenu";a.className=action.selectedItem+"Menu";document.body.appendChild(a);var a=document.getElementById("bottomMenu"),c=document.createElement("ul");c.id="bottomMenuUL";a.appendChild(c);b.id="editDragger";b.innerHTML="&#8597;";document.body.appendChild(b);$("#editDragger").draggable({axis:"y",drag:function(a,b){b.position.top>screen.height-$("#bottomMenu").height()?b.position.top=screen.height-$("#bottomMenu").height():0>b.position.top&&(b.position.top=0);$("#bottomMenu").css("top",b.position.top)}});
$("#bottomMenu").css("top",$("#editDragger").css("top"));$("#bottomMenu").on("touchmove",function(){action.isScrollingEdit=!0});$("#bottomMenu").on("touchend",function(){action.isScrollingEdit=!1});this.createEdits()},externalClick:function(a,b){var c=a.context.title,e=$("#"+action.selectedItem).css(b).match(/(-?\d+px)|(rgb\(.+\))/g),d,g,f,h;e?(d=e[0],g=e[1],f=e[2],e=e[3]):(d="rgb(0,0,0)",e=f=g="0px");h=a.parent().find("input").val();h="+"===a.text()?parseFloat(h)+1:0<h?parseFloat(h)-1:0;a.parent().find("input").val(h);
switch(c){case "0":g=h+"px";break;case "1":f=h+"px";break;case "2":e=h+"px"}action.setCss(action.selectedItem,b,g+" "+f+" "+e+" "+d)},externalMenu:function(a,b,c,e){var d=document.createElement("div"),g=document.createElement("div");$("#"+e).css("text-shadow");d.id="externalMenu";g.className="exColorButton";g.innerHTML="Color";g.onclick=function(){action.cgShadowColor("#externalMenu")};document.body.appendChild(d);$(d).draggable({axis:"y"});for(e=0;e<b;e++){var f=$("#"+action.selectedItem).css("text-shadow").match(/(-?\d+px)|(rgb\(.+\))/g);
f||(f=["rgb(0,0,0)","0px","0px","0px"]);var h=document.createElement("div"),k=document.createElement("input"),l=document.createElement("div"),m=document.createElement("div"),n=document.createElement("div");n.innerHTML=c[e];k.value=parseInt(f[e+1],10);l.innerHTML="+";l.title=e;l.onclick=function(){menu.externalClick($(this),a)};m.innerHTML="-";m.title=e;m.onclick=function(){menu.externalClick($(this),a)};h.className="exInput"+e;n.className="exTopLabel";l.className="exInc exButton";m.className="exDec exButton";
k.className="exInput";h.appendChild(k);h.appendChild(l);h.appendChild(m);h.appendChild(n);d.appendChild(h)}d.appendChild(g)},init:function(){this.button()}};function showElementPanel(){$(".sidePanel").css("opacity","0")}menu.init();action.removeItemFromScreen=function(a){var b=document.getElementById("screenElements"),c=document.getElementById(a);b.removeChild(c);delete this.movedElements[a];this.savedElements.placedElements=this.movedElements;this.saveStorage()};
var elPanel={removeSelected:function(){$("#accordion li ul li ul li.liSelected").each(function(a){$(this).removeClass()})},screenClick:function(){""!=action.selectedItem?($("#elPanel").css("display","none"),$("#elPanelDragger").css("display","none")):"block"===$("#elPanel").css("display")&&($("#elPanel").scrollTop(0),$("#accordion li").children("ul").hide())},scrollTop:function(a){$("#elPanel").animate({scrollTop:$(a).position().top},"fast")},clicker:function(){$("#accordion > li > div").click(function(){!1===
$(this).next().is(":visible")&&$("#accordion ul").slideUp(100);$(this).next().slideToggle(100);elPanel.scrollTop(this)});$(".accordionInner > li > div").click(function(){!1===$(this).next().is(":visible")&&$("#accordionInner ul").slideUp(100);$(this).next().slideToggle(100);elPanel.scrollTop(this)});$(".accordionInner").click(function(a){if(1<a.target.title.length){console.log(a.target.title);var b=$("#"+a.target.title);console.log(b.length);0!==b.length?(console.log("remove"),action.removeItemFromScreen(a.target.title),
"liSelected"===a.target.className&&(a.target.className="")):(""===a.target.className&&(a.target.className="liSelected"),action.addtoScreen(a.target.title),console.log("apply"))}})},subsubLI:function(a,b){Object.keys(elementPanel[a][b]).forEach(function(c){if("title"!==c){var e=document.createElement("li");e.title=c;e.innerHTML=elementPanel[a][b][c];0<$("#"+c).length&&(e.className="liSelected");document.getElementById("sub"+b).appendChild(e)}})},subLI:function(a){Object.keys(elementPanel[a]).forEach(function(b){var c=
document.createElement("li"),e=document.createElement("ul"),d=document.createElement("div");c.id="li"+b;e.id="sub"+b;d.innerHTML=elementPanel[a][b].title;document.getElementById(a).appendChild(c);document.getElementById("li"+b).appendChild(d);document.getElementById("li"+b).appendChild(e);elPanel.subsubLI(a,b)})},li:function(a){var b=document.createElement("li"),c=document.createElement("div"),e=document.createElement("ul");e.id=a;e.className="accordionInner";c.innerHTML=a;b.id="elPanelMain"+a;b["class"]=
"elPanelMain";document.getElementById("accordion").appendChild(b);document.getElementById("elPanelMain"+a).appendChild(c);document.getElementById("elPanelMain"+a).appendChild(e);elPanel.subLI(a)},create:function(){Object.keys(elementPanel).forEach(function(a){elPanel.li(a)});elPanel.clicker()},toggle:function(){$("#elPanel").toggle();$("#elPanelDragger").toggle()},init:function(){var a=document.createElement("div"),b=document.createElement("div"),c=document.createElement("div"),e=document.createElement("ul");
a.id="elPanel";document.body.appendChild(a);b.id="elPanelDragger";b.innerHTML="&#8597;";document.body.appendChild(b);c.id="elPanelCloser";c.innerHTML="&#xd7;";c.onclick=function(){elPanel.toggle()};document.getElementById("elPanel").appendChild(c);$("#elPanelDragger").draggable({axis:"y",drag:function(a,b){b.position.top>screen.height-$("#elPanel").height()?b.position.top=screen.height-$("#elPanel").height():0>b.position.top&&(b.position.top=0);$("#elPanel").css("top",b.position.top)}});e.id="accordion";
document.getElementById("elPanel").appendChild(e);elPanel.create()}};setTimeout(function(){elPanel.init()},10);